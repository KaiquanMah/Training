Recursively splitting documents
Splitting on a single character is simple and predictable, but it often produces sub-optimal chunks. In this exercise, you'll apply recursive character splitting to split the Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks paper you loaded in a earlier exercise.
Recall that recursive character splitting iterates over a list of characters, splitting on each in turn to see if chunks can be created beneath the chunk_size limit.



Define a LangChain recursive character text splitter to split recursively through the character list ['\n', '.', ' ', ''] with a chunk size of 75 and chunk overlap of 10.
Split document using the text_splitter you defined and an appropriate method.


loader = PyPDFLoader("rag_paper.pdf")
document = loader.load()

# Define a text splitter that splits recursively through the character list
text_splitter = RecursiveCharacterTextSplitter(
    separators=['\n', '.', ' ', ''],
    chunk_size=75,  
    chunk_overlap=10  
)

# Split the document using text_splitter
chunks = text_splitter.split_documents(document)
print(chunks)
print([len(chunk.page_content) for chunk in chunks])


<script.py> output:
    [Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Retrieval-Augmented Generation for\nKnowledge-Intensive NLP Tasks'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Patrick Lewis†‡, Ethan Perez⋆,'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Aleksandra Piktus†, Fabio Petroni†, Vladimir Karpukhin†, Naman Goyal†,'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Goyal†, Heinrich Küttler†,'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Mike Lewis†, Wen-tau Yih†, Tim Rocktäschel†‡, Sebastian Riedel†‡, Douwe'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Douwe Kiela†'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='†Facebook AI Research; ‡University College London; ⋆New York University;'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='plewis@fb.com\nAbstract'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Large pre-trained language models have been shown to store factual'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='factual knowledge'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='in their parameters, and achieve state-of-the-art results when ﬁne-tuned'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='ﬁne-tuned on down-'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='stream NLP tasks'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. However, their ability to access and precisely manipulate knowl-'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='edge is still limited, and hence on knowledge-intensive tasks, their'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='their performance'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='lags behind task-speciﬁc architectures'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. Additionally, providing provenance for their'), 
Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='decisions and updating their world knowledge remain open research problems'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. Pre-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='trained models with a differentiable access mechanism to explicit'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='explicit non-parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='memory have so far been only investigated for extractive downstream tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. We'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='explore a general-purpose ﬁne-tuning recipe for retrieval-augmented'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='(RAG) — models which combine pre-trained parametric and non-parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='mem-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='ory for language generation. We introduce RAG models where the parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='memory is a pre-trained seq2seq model and the non-parametric memory is a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='is a dense'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='vector index of Wikipedia, accessed with a pre-trained neural retriever'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. We com-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='pare two RAG formulations, one which conditions on the same retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='retrieved passages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='across the whole generated sequence, and another which can use different'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='different passages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='per token'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. We ﬁne-tune and evaluate our models on a wide range of knowledge-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='intensive NLP tasks and set the state of the art on three open domain QA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='domain QA tasks,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='outperforming parametric seq2seq models and task-speciﬁc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='retrieve-and-extract'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='architectures'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. For language generation tasks, we ﬁnd that RAG models generate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='more speciﬁc, diverse and factual language than a state-of-the-art'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='parametric-only'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='seq2seq baseline.\n1 Introduction'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='Pre-trained neural language models have been shown to learn a substantial'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='amount of in-depth knowl-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='edge from data [47]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. They can do so without any access to an external memory, as a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='as a parameterized'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='implicit knowledge base [51, 52]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. While this development is exciting, such models do have down-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='sides: They cannot easily expand or revise their memory, can’t'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='can’t straightforwardly provide insight into'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='their predictions, and may produce “hallucinations” [38]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. Hybrid models that combine parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='memory with non-parametric (i.e'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='.e., retrieval-based) memories [20, 26, 48] can address some of these'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='issues because knowledge can be directly revised and expanded, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='and accessed knowledge can be'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='inspected and interpreted'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='. REALM [ 20] and ORQA [ 31], two recently introduced models that'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='combine masked language models [8] with a differentiable retriever, have'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='have shown promising results,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 0}, page_content='arXiv:2005.11401v4  [cs.CL]  12 Apr 2021'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='The\tDivine\nComedy\t(x) q \nQuery \nEncoder \nq(x) \nMIPS p θ \nGenerator\xa0pθ'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='(Parametric) \nMargin- \nalize \nThis\t14th\tcentury\twork\nis\tdivided\tinto\t3'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='sections:\t"Inferno",\n"Purgatorio"\t&\n"Paradiso"\t\t\t\t\t\t\t\t\t(y)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='End-to-End Backprop through q  and\xa0p θ \nBarack\tObama\twas'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='born\tin\tHawaii.(x)\nFact Veriﬁcation: Fact Query\nsupports\t(y)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Question Generation\nFact Veriﬁcation:\nLabel Generation\nDocument \nIndex'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Index \nDefine\t"middle\tear"(x)\nQuestion Answering:\nQuestion Query'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='The\tmiddle\tear\tincludes\nthe\ttympanic\tcavity\tand\nthe\tthree\tossicles.\t\t(y)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Question Answering:\nAnswer GenerationRetriever pη \n(Non-Parametric) \nz 4'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='z 4 \nz 3 \nz 2 \nz 1 \nd(z) \nJeopardy Question\nGeneration:\nAnswer Query'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Figure 1: Overview of our approach'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. We combine a pre-trained retriever (Query Encoder + Document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Index) with a pre-trained seq2seq model (Generator) and ﬁne-tune'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='ﬁne-tune end-to-end'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. For query x , we use'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Maximum Inner Product Search (MIPS) to ﬁnd the top-K documents z i'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. For ﬁnal prediction y , we'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='treat z as a latent variable and marginalize over seq2seq predictions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='given different documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='but have only explored open-domain extractive question answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Here, we bring hybrid parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='and non-parametric memory to the “workhorse of NLP,” i.e'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.e. sequence-to-sequence (seq2seq) models.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='We endow pre-trained, parametric-memory generation models with a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='with a non-parametric memory through'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='a general-purpose ﬁne-tuning approach which we refer to as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='to as retrieval-augmented generation (RAG)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='We build RAG models where the parametric memory is a pre-trained seq2seq'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='seq2seq transformer, and the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='non-parametric memory is a dense vector index of Wikipedia, accessed with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='with a pre-trained neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='retriever'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. We combine these components in a probabilistic model trained end-to-end'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='(Fig'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. 1). The'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='retriever (Dense Passage Retriever [26], henceforth DPR) provides latent'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='latent documents conditioned on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='the input, and the seq2seq model (BART [32]) then conditions on these'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='on these latent documents together with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='the input to generate the output'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. We marginalize the latent documents with a top-K approximation,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='either on a per-output basis (assuming the same document is responsible'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='for all tokens) or a per-token'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='basis (where different documents are responsible for different tokens)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Like T5 [51] or BART, RAG'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='can be ﬁne-tuned on any seq2seq task, whereby both the generator and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='and retriever are jointly learned'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='There has been extensive previous work proposing architectures to enrich'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='to enrich systems with non-parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='memory which are trained from scratch for speciﬁc tasks, e.g'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.g. memory networks [ 64, 55], stack-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='augmented networks [25] and memory layers [ 30]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. In contrast, we explore a setting where both'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='parametric and non-parametric memory components are pre-trained and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='and pre-loaded with extensive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Crucially, by using pre-trained access mechanisms, the ability to access'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='to access knowledge is'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='present without additional training.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='Our results highlight the beneﬁts of combining parametric and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='and non-parametric memory with genera-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='tion for knowledge-intensive tasks—tasks that humans could not reasonably'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='be expected to perform'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='without access to an external knowledge source'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Our RAG models achieve state-of-the-art results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='on open Natural Questions [29], WebQuestions [3] and CuratedTrec [2] and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='[2] and strongly outperform'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='recent approaches that use specialised pre-training objectives on TriviaQA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='TriviaQA [24]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Despite these being'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='extractive tasks, we ﬁnd that unconstrained generation outperforms'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='previous extractive approaches'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='For knowledge-intensive generation, we experiment with MS-MARCO [1] and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='[1] and Jeopardy question'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='generation, and we ﬁnd that our models generate responses that are more'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='are more factual, speciﬁc, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='diverse than a BART baseline'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. For FEVER [56] fact veriﬁcation, we achieve results within 4.3% of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='state-of-the-art pipeline models which use strong retrieval supervision'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. Finally, we demonstrate that'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='the non-parametric memory can be replaced to update the models’ knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='knowledge as the world changes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.1'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='2 Methods'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='We explore RAG models, which use the input sequencex to retrieve text'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='text documents z and use them'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='as additional context when generating the target sequence y'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. As shown in Figure 1, our models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='leverage two components: (i) a retriever p η(z |x ) with parameters η that'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='η that returns (top-K truncated)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='distributions over text passages given a query x and (ii) a generator p'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='p θ(y i |x,z,y 1:i −1) parametrized'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='1Code to run experiments with RAG has been open-sourced as part of the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='of the HuggingFace Transform-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='ers Library [66] and can be found at https://github'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.com/huggingface/transformers/blob/master/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='examples/rag/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='. An interactive demo of RAG models can be found at https://huggingface'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='.co/rag/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 1}, page_content='2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='by θthat generates a current token based on a context of the previous i−1'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='i−1 tokens y1:i−1, the original'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='input xand a retrieved passage z.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='To train the retriever and generator end-to-end, we treat the retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='retrieved document as a latent variable'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='We propose two models that marginalize over the latent documents in'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='in different ways to produce a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='distribution over generated text'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. In one approach, RAG-Sequence, the model uses the same document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='to predict each target token'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. The second approach, RAG-Token, can predict each target token based'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='on a different document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. In the following, we formally introduce both models and then describe the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pη and pθ components, as well as the training and decoding procedure.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='2.1 Models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='RAG-Sequence Model The RAG-Sequence model uses the same retrieved document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='document to generate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='the complete sequence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. Technically, it treats the retrieved document as a single latent variable'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='variable that'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='is marginalized to get the seq2seq probability p(y|x) via a top-K'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='a top-K approximation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. Concretely, the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='top K documents are retrieved using the retriever, and the generator'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='generator produces the output sequence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='probability for each document, which are then marginalized,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pRAG-Sequence(y|x) ≈\n∑\nz∈top-k(p(·|x))\npη(z|x)pθ(y|x,z) =\n∑'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='∑\nz∈top-k(p(·|x))\npη(z|x)\nN∏\ni\npθ(yi|x,z,y 1:i−1)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='RAG-Token Model In the RAG-Token model we can draw a different latent'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='latent document for each'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='target token and marginalize accordingly'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. This allows the generator to choose content from several'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='documents when producing an answer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. Concretely, the top K documents are retrieved using the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='retriever, and then the generator produces a distribution for the next'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='the next output token for each document,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='before marginalizing, and repeating the process with the following output'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='output token, Formally, we deﬁne:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pRAG-Token(y|x) ≈\nN∏\ni\n∑\nz∈top-k(p(·|x))\npη(z|x)pθ(yi|x,z,y 1:i−1)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='Finally, we note that RAG can be used for sequence classiﬁcation tasks by'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='tasks by considering the target class'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='as a target sequence of length one, in which case RAG-Sequence and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='and RAG-Token are equivalent'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='2.2 Retriever: DPR'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='The retrieval component pη(z|x) is based on DPR [26]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. DPR follows a bi-encoder architecture:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pη(z|x) ∝exp\n(\nd(z)⊤q(x)\n)\nd(z) =BERTd(z), q(x) =BERTq(x)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='where d(z) is a dense representation of a document produced by a BERTBASE'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='BERTBASE document encoder [8],'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='and q(x) a query representation produced by a query encoder, also based on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='based on BERTBASE'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. Calculating'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='top-k(pη(·|x)), the list of kdocuments zwith highest prior probability'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pη(z|x), is a Maximum Inner'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='Product Search (MIPS) problem, which can be approximately solved in'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='solved in sub-linear time [23]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. We use'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='a pre-trained bi-encoder from DPR to initialize our retriever and to build'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='to build the document index'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. This'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='retriever was trained to retrieve documents which contain answers to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='to TriviaQA [24] questions and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='Natural Questions [29]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. We refer to the document index as the non-parametric memory.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='2.3 Generator: BART'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='The generator component pθ(yi|x,z,y 1:i−1) could be modelled using any'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='using any encoder-decoder'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. We use'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='BART-large [32], a pre-trained seq2seq transformer [58] with 400M'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='with 400M parameters'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. To combine the input'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='xwith the retrieved content zwhen generating from BART, we simply'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='we simply concatenate them'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. BART was'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='pre-trained using a denoising objective and a variety of different noising'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='noising functions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. It has obtained'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='state-of-the-art results on a diverse set of generation tasks and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='tasks and outperforms comparably-sized T5'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='models [32]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. We refer to the BART generator parameters θas the parametric memory'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='memory henceforth'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='2.4 Training'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='We jointly train the retriever and generator components without any direct'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='direct supervision on what'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='document should be retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='. Given a ﬁne-tuning training corpus of input/output pairs (xj,yj), we'), Document(metadata={'source': 'rag_paper.pdf', 'page': 2}, page_content='3'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='minimize the negative marginal log-likelihood of each target, ∑'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='j−log p(yj|xj) using stochastic'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='gradient descent with Adam [28]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. Updating the document encoder BERTd during training is costly as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='it requires the document index to be periodically updated as REALM does'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='does during pre-training [20]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='We do not ﬁnd this step necessary for strong performance, and keep the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='keep the document encoder (and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='index) ﬁxed, only ﬁne-tuning the query encoder BERTq and the BART'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='the BART generator'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='2.5 Decoding'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='At test time, RAG-Sequence and RAG-Token require different ways to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='ways to approximatearg maxyp(y|x)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='RAG-Token The RAG-Token model can be seen as a standard, autoregressive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='seq2seq genera-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='tor with transition probability: p′\nθ(yi|x,y1:i−1) = ∑'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='z∈top-k(p(·|x)) pη(zi|x)pθ(yi|x,zi,y1:i−1) To\ndecode, we can plug p′'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='θ(yi|x,y1:i−1) into a standard beam decoder.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='RAG-Sequence For RAG-Sequence, the likelihood p(y|x) does not break into a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='into a conventional per-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='token likelihood, hence we cannot solve it with a single beam search'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. Instead, we run beam search for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='each document z, scoring each hypothesis using pθ(yi|x,z,y 1:i−1)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. This yields a set of hypotheses'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Y, some of which may not have appeared in the beams of all documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. To estimate the probability'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='of an hypothesis y we run an additional forward pass for each document z'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='z for which y does not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='appear in the beam, multiply generator probability with pη(z|x) and then'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='and then sum the probabilities across'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='beams for the marginals'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We refer to this decoding procedure as “Thorough Decoding.” For longer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='output sequences, |Y|can become large, requiring many forward passes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. For more efﬁcient decoding,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='we can make a further approximation that pθ(y|x,zi) ≈0 where ywas not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='ywas not generated during beam'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='search from x,zi'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. This avoids the need to run additional forward passes once the candidate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='candidate set Y has'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='been generated. We refer to this decoding procedure as “Fast Decoding.”'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='3 Experiments'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='We experiment with RAG in a wide range of knowledge-intensive tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. For all experiments, we use'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='a single Wikipedia dump for our non-parametric knowledge source'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. Following Lee et al. [31] and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Karpukhin et al. [26], we use the December 2018 dump'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. Each Wikipedia article is split into disjoint'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='100-word chunks, to make a total of 21M documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We use the document encoder to compute an'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='embedding for each document, and build a single MIPS index using FAISS'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='FAISS [23] with a Hierarchical'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Navigable Small World approximation for fast retrieval [37]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. During training, we retrieve the top'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='kdocuments for each query'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We consider k∈{5,10}for training and set kfor test time using dev'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='data. We now discuss experimental details for each task.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='3.1 Open-domain Question Answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Open-domain question answering (QA) is an important real-world application'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='and common testbed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='for knowledge-intensive tasks [20]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We treat questions and answers as input-output text pairs (x,y)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='and train RAG by directly minimizing the negative log-likelihood of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='of answers'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We compare RAG to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='the popular extractive QA paradigm [5, 7, 31, 26], where answers are'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='are extracted spans from retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='documents, relying primarily on non-parametric knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We also compare to “Closed-Book'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='QA” approaches [52], which, like RAG, generate answers, but which do not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='do not exploit retrieval, instead'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='relying purely on parametric knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We consider four popular open-domain QA datasets: Natural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Questions (NQ) [29], TriviaQA (TQA) [24]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. WebQuestions (WQ) [3] and CuratedTrec (CT) [2]. As'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='CT and WQ are small, we follow DPR [26] by initializing CT and WQ models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='WQ models with our NQ RAG'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We use the same train/dev/test splits as prior work [ 31, 26] and report'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='report Exact Match (EM)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='scores'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. For TQA, to compare with T5 [52], we also evaluate on the TQA Wiki test'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='Wiki test set'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='3.2 Abstractive Question Answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='RAG models can go beyond simple extractive QA and answer questions with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='with free-form, abstractive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='text generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. To test RAG’s natural language generation (NLG) in a knowledge-intensive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='setting,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='we use the MSMARCO NLG task v2.1 [ 43]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='.1 [ 43]. The task consists of questions, ten gold passages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='retrieved from a search engine for each question, and a full sentence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='sentence answer annotated from the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='retrieved passages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='. We do not use the supplied passages, only the questions and answers, to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='to treat'), Document(metadata={'source': 'rag_paper.pdf', 'page': 3}, page_content='4'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='MSMARCO as an open-domain abstractive QA task'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. MSMARCO has some questions that cannot be'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='answered in a way that matches the reference answer without access to the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='to the gold passages, such as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='“What is the weather in V olcano, CA?” so performance will be lower'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='be lower without using gold passages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='We also note that some MSMARCO questions cannot be answered using'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='using Wikipedia alone'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Here,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='RAG can rely on parametric knowledge to generate reasonable responses.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='3.3 Jeopardy Question Generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='To evaluate RAG’s generation abilities in a non-QA setting, we study'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='we study open-domain question gen-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='eration'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Rather than use questions from standard open-domain QA tasks, which'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='which typically consist'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='of short, simple questions, we propose the more demanding task of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='task of generating Jeopardy questions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='Jeopardy is an unusual format that consists of trying to guess an entity'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='an entity from a fact about that entity'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='For example, “The World Cup” is the answer to the question “In 1986 Mexico'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='Mexico scored as the ﬁrst'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='country to host this international sports competition twice'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.” As Jeopardy questions are precise,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='factual statements, generating Jeopardy questions conditioned on their'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='on their answer entities constitutes a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='challenging knowledge-intensive generation task.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='We use the splits from SearchQA [ 10], with 100K train, 14K dev, and 27K'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='and 27K test examples'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. As'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='this is a new task, we train a BART model for comparison'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Following [67], we evaluate using the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='SQuAD-tuned Q-BLEU-1 metric [ 42]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Q-BLEU is a variant of BLEU with a higher weight for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='matching entities and has higher correlation with human judgment for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='for question generation than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='standard metrics'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. We also perform two human evaluations, one to assess generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='factuality, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='one for speciﬁcity'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. We deﬁne factuality as whether a statement can be corroborated by trusted'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='trusted external'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='sources, and speciﬁcity as high mutual dependence between the input and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='input and output [ 33]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. We follow'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='best practice and use pairwise comparative evaluation [34]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Evaluators are shown an answer and two'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='generated questions, one from BART and one from RAG'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. They are then asked to pick one of four'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='options—quuestion A is better, question B is better, both are good, or'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='good, or neither is good'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='3.4 Fact Veriﬁcation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='FEVER [ 56] requires classifying whether a natural language claim is'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='claim is supported or refuted by'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='Wikipedia, or whether there is not enough information to decide'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. The task requires retrieving'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='evidence from Wikipedia relating to the claim and then reasoning over this'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='over this evidence to classify'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='whether the claim is true, false, or unveriﬁable from Wikipedia alone'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. FEVER is a retrieval problem'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='coupled with an challenging entailment reasoning task'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. It also provides an appropriate testbed for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='exploring the RAG models’ ability to handle classiﬁcation rather than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='than generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. We map FEVER'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='class labels (supports, refutes, or not enough info) to single output'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='output tokens and directly train with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='claim-class pairs'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Crucially, unlike most other approaches to FEVER, we do not use'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='not use supervision on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='retrieved evidence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. In many real-world applications, retrieval supervision signals aren’t'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='aren’t available, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='models that do not require such supervision will be applicable to a wider'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='a wider range of tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. We explore'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='two variants: the standard 3-way classiﬁcation task (supports/refutes/not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='enough info) and the 2-way'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='(supports/refutes) task studied in Thorne and Vlachos [57]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. In both cases we report label accuracy.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='4 Results\n4.1 Open-domain Question Answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='Table 1 shows results for RAG along with state-of-the-art models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. On all four open-domain QA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='tasks, RAG sets a new state of the art (only on the T5-comparable split'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='split for TQA)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. RAG combines'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='the generation ﬂexibility of the “closed-book” (parametric only)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='only) approaches and the performance of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='"open-book" retrieval-based approaches'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Unlike REALM and T5+SSM, RAG enjoys strong results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='without expensive, specialized “salient span masking” pre-training [20]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. It is worth noting that RAG’s'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='retriever is initialized using DPR’s retriever, which uses retrieval'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='retrieval supervision on Natural Questions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='and TriviaQA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. RAG compares favourably to the DPR QA system, which uses a BERT-based'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='“cross-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='encoder” to re-rank documents, along with an extractive reader'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. RAG demonstrates that neither a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='re-ranker nor extractive reader is necessary for state-of-the-art'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='performance'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='There are several advantages to generating answers even when it is'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='it is possible to extract them'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='. Docu-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='ments with clues about the answer but do not contain the answer verbatim'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='verbatim can still contribute towards'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='a correct answer being generated, which is not possible with standard'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='standard extractive approaches, leading'), Document(metadata={'source': 'rag_paper.pdf', 'page': 4}, page_content='5'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Table 1: Open-Domain QA Test Scores. For TQA,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='left column uses the standard test set for Open-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Domain QA, right column uses the TQA-Wiki'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='test set. See Appendix D for further details.\nModel NQ TQA WQ CT\nClosed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Closed\nBook\nT5-11B [52] 34.5 - /50.1 37.4 -'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='T5-11B+SSM[52] 36.6 - /60.5 44.7 -\nOpen\nBook'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Open\nBook\nREALM [20] 40.4 - / - 40.7 46.8\nDPR [26] 41.5 57.9/ - 41.1 50.6'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='RAG-Token 44.1 55.2/66.1 45.5 50.0\nRAG-Seq. 44.5 56.8/68.0 45.2 52.2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Table 2: Generation and classiﬁcation Test Scores.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='MS-MARCO SotA is [4], FEVER-3 is [68] and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='FEVER-2 is [ 57] *Uses gold context/evidence.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Best model without gold access underlined.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Model Jeopardy MSMARCO FVR3 FVR2\nB-1 QB-1 R-L B-1 Label Acc.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='SotA - - 49.8* 49.9* 76.8 92.2 *\nBART 15.1 19.7 38.2 41.6 64.0 81.1'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='RAG-Tok. 17.3 22.2 40.1 41.5 72.5 89.5RAG-Seq. 14.7 21.4 40.8 44.2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='to more effective marginalization over documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Furthermore, RAG can generate correct answers'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='even when the correct answer is not in any retrieved document, achieving'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='achieving 11'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.8% accuracy in such'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='cases for NQ, where an extractive model would score 0%.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='4.2 Abstractive Question Answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='As shown in Table 2, RAG-Sequence outperforms BART on Open MS-MARCO NLG by'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='NLG by 2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.6 Bleu'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='points and 2.6 Rouge-L points'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. RAG approaches state-of-the-art model performance, which is'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='impressive given that (i) those models access gold passages with speciﬁc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='speciﬁc information required to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='generate the reference answer , (ii) many questions are unanswerable'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='without the gold passages, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='(iii) not all questions are answerable from Wikipedia alone'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Table 3 shows some generated answers'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='from our models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Qualitatively, we ﬁnd that RAG models hallucinate less and generate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='generate factually'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='correct text more often than BART'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Later, we also show that RAG generations are more diverse than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='BART generations (see §4.5).\n4.3 Jeopardy Question Generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Table 2 shows that RAG-Token performs better than RAG-Sequence on Jeopardy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Jeopardy question generation,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='with both models outperforming BART on Q-BLEU-1'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. 4 shows human evaluation results, over 452'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='pairs of generations from BART and RAG-Token'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Evaluators indicated that BART was more factual'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='than RAG in only 7.1% of cases, while RAG was more factual in 42'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.7% of cases, and both RAG and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='BART were factual in a further 17% of cases, clearly demonstrating the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='the effectiveness of RAG on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='the task over a state-of-the-art generation model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Evaluators also ﬁnd RAG generations to be more'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='speciﬁc by a large margin'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Table 3 shows typical generations from each model.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Jeopardy questions often contain two separate pieces of information, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='and RAG-Token may perform'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='best because it can generate responses that combine content from several'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='several documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Figure 2 shows'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='an example'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. When generating “Sun”, the posterior is high for document 2 which'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='2 which mentions “The'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Sun Also Rises”'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Similarly, document 1 dominates the posterior when “A Farewell to Arms”'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='to Arms” is'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='generated'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Intriguingly, after the ﬁrst token of each book is generated, the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='the document posterior ﬂattens'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='This observation suggests that the generator can complete the titles'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='titles without depending on speciﬁc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. In other words, the model’s parametric knowledge is sufﬁcient to complete'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='complete the titles'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. We'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='ﬁnd evidence for this hypothesis by feeding the BART-only baseline with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='with the partial decoding"The'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Sun'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. BART completes the generation "The Sun Also Rises" is a novel by this'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='by this author of "The Sun'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Also Rises" indicating the title "The Sun Also Rises" is stored in BART’s'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='in BART’s parameters'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. Similarly,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='BART will complete the partial decoding "The Sun Also Rises" is a novel by'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='novel by this author of "A'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='with "The Sun Also Rises" is a novel by this author of "A Farewell to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='to Arms"'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. This example shows'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='how parametric and non-parametric memories work together—the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='non-parametric component helps'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='to guide the generation, drawing out speciﬁc knowledge stored in the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='in the parametric memory'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='4.4 Fact Veriﬁcation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='Table 2 shows our results on FEVER'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='. For 3-way classiﬁcation, RAG scores are within 4.3% of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='state-of-the-art models, which are complex pipeline systems with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='with domain-speciﬁc architectures and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='substantial engineering, trained using intermediate retrieval supervision,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='which RAG does not require'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 5}, page_content='6'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Document 1: his works are considered classics of American'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='literature ... His wartime experiences formed the basis for his novel'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='”A Farewell to Arms”(1929) ...'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Document 2: ... artists of the 1920s ”Lost Generation” expatriate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='community. His debut novel,”The Sun Also Rises”, was published\nin 1926.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='in 1926.\nBOS\n”\nTheSunAlso\nR ises\n” is a\nnovel\nby this\nauthor\nof ” A'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='of ” A\nFarewellto\nArms\n”\nDoc 1\nDoc 2\nDoc 3\nDoc 4\nDoc 5'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Figure 2: RAG-Token document posterior p(zi|x,yi,y−i) for each generated'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='generated token for input “Hem-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='ingway" for Jeopardy generation with 5 retrieved documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. The posterior for document 1 is high'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='when generating “A Farewell to Arms" and for document 2 when generating'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='“The Sun Also Rises"'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Table 3: Examples from generation tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. RAG models generate more speciﬁc and factually accurate'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='responses'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. ‘?’ indicates factually incorrect responses, * indicates partially'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='partially correct responses'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Task Input Model Generation\nMS-\nMARCO\ndeﬁne middle\near'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='BART ?The middle ear is the part of the ear between the middle ear and the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='and the nose'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-T The middle ear is the portion of the ear internal to the eardrum.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-S The middle ear includes the tympanic cavity and the three ossicles.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='what currency\nneeded in\nscotland'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='scotland\nBART The currency needed in Scotland is Pound sterling.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-T Pound is the currency needed in Scotland.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-S The currency needed in Scotland is the pound sterling.\nJeopardy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Jeopardy\nQuestion\nGener\n-ation\nWashington'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='BART ?This state has the largest number of counties in the U.S.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-T It’s the only U.S. state named for a U.S. president'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-S It’s the state where you’ll ﬁnd Mount Rainier National Park'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='The Divine\nComedy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='BART *This epic poem by Dante is divided into 3 parts: the Inferno, the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='the Purgatorio & the Purgatorio'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-T Dante’s "Inferno" is the ﬁrst part of this epic poem'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG-S This 14th century work is divided into 3 sections: "Inferno",'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='"Purgatorio" & "Paradiso"'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='For 2-way classiﬁcation, we compare against Thorne and Vlachos [57], who'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='[57], who train RoBERTa [35]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='to classify the claim as true or false given the gold evidence sentence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. RAG achieves an accuracy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='within 2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.7% of this model, despite being supplied with only the claim and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='claim and retrieving its own evidence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='We also analyze whether documents retrieved by RAG correspond to documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='documents annotated as gold'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='evidence in FEVER'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. We calculate the overlap in article titles between the topkdocuments'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='by RAG and gold evidence annotations'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. We ﬁnd that the top retrieved document is from a gold article'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='in 71% of cases, and a gold article is present in the top 10 retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='retrieved articles in 90% of cases'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='4.5 Additional Results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Generation Diversity Section 4'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.3 shows that RAG models are more factual and speciﬁc than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='BART for Jeopardy question generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. Following recent work on diversity-promoting decoding'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='[33, 59, 39], we also investigate generation diversity by calculating the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='the ratio of distinct ngrams to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='total ngrams generated by different models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. Table 5 shows that RAG-Sequence’s generations are'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='more diverse than RAG-Token’s, and both are signiﬁcantly more diverse than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='than BART without needing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='any diversity-promoting decoding.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Retrieval Ablations A key feature of RAG is learning to retrieve relevant'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='relevant information for the task'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='To assess the effectiveness of the retrieval mechanism, we run ablations'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='ablations where we freeze the retriever'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='during training'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. As shown in Table 6, learned retrieval improves results for all tasks.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='We compare RAG’s dense retriever to a word overlap-based BM25 retriever'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='retriever [53]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. Here, we replace'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='RAG’s retriever with a ﬁxed BM25 system, and use BM25 retrieval scores as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='scores as logits when calculating'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='p(z|x). Table 6 shows the results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. For FEVER, BM25 performs best, perhaps since FEVER claims are'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='heavily entity-centric and thus well-suited for word overlap-based'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='retrieval'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. Differentiable retrieval'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='improves results on all other tasks, especially for Open-Domain QA, where'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='QA, where it is crucial'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Index hot-swapping An advantage of non-parametric memory models like RAG'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='like RAG is that knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='can be easily updated at test time'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. Parametric-only models like T5 or BART need further training to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='update their behavior as the world changes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. To demonstrate, we build an index using the DrQA [5]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='Wikipedia dump from December 2016 and compare outputs from RAG using this'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='this index to the newer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='index from our main results (December 2018)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='. We prepare a list of 82 world leaders who had changed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 6}, page_content='7'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Table 4: Human assessments for the Jeopardy\nQuestion Generation Task.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Factuality Speciﬁcity\nBART better 7.1% 16.8%\nRAG better 42.7% 37.4%'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Both good 11.7% 11.8%\nBoth poor 17.7% 6.9%\nNo majority 20.8% 20.1%'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Table 5: Ratio of distinct to total tri-grams for\ngeneration tasks.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='MSMARCO Jeopardy QGen\nGold 89.6% 90.0%\nBART 70.7% 32.4%'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Token 77.8% 46.8%\nRAG-Seq. 83.5% 53.8%'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Table 6: Ablations on the dev set'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. As FEVER is a classiﬁcation task, both RAG models are equivalent.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Model NQ TQA WQ CT Jeopardy-QGen MSMarco FVR-3 FVR-2'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Exact Match B-1 QB-1 R-L B-1 Label Accuracy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Token-BM25 29.7 41.5 32.1 33.1 17.5 22.3 55.5 48.4 75.1 91'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.4 75.1 91.6RAG-Sequence-BM25 31.8 44.1 36.6 33.8 11.1 19.5 56.5 46.9'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Token-Frozen 37.8 50.1 37.1 51.1 16.7 21.7 55.9 49.4 72.9 89'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.4 72.9 89.4RAG-Sequence-Frozen 41.2 52.1 41.8 52.6 11.8 19.6 56.7 47.3'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Token 43.5 54.8 46.5 51.9 17.9 22.6 56.2 49.4 74.5 90.6RAG-Sequence 44'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.0 55.8 44.9 53.4 15.3 21.5 57.2 47.5'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='between these dates and use a template “Who is {position}?” (e.g'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.g. “Who is the President of Peru?”)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='to query our NQ RAG model with each index'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. RAG answers 70% correctly using the 2016 index for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='2016 world leaders and 68% using the 2018 index for 2018 world leaders'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Accuracy with mismatched'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='indices is low (12% with the 2018 index and 2016 leaders, 4% with the 2016'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='the 2016 index and 2018 leaders)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='This shows we can update RAG’s world knowledge by simply replacing its'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='its non-parametric memory'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Effect of Retrieving more documents Models are trained with either 5 or 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='5 or 10 retrieved latent'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='documents, and we do not observe signiﬁcant differences in performance'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='between them'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. We have the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='ﬂexibility to adjust the number of retrieved documents at test time, which'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='which can affect performance and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='runtime'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Figure 3 (left) shows that retrieving more documents at test time'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='test time monotonically improves'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Open-domain QA results for RAG-Sequence, but performance peaks for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='peaks for RAG-Token at 10 retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Figure 3 (right) shows that retrieving more documents leads to higher'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='to higher Rouge-L for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Token at the expense of Bleu-1, but the effect is less pronounced for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='for RAG-Sequence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='10 20 30 40 50\nKR e t r i e v e dD o c s\n39\n40\n41\n42\n43'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='41\n42\n43\n44NQ Exact Match RAG-Tok\nRAG-Seq\n10 20 30 40 50'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='KR e t r i e v e dD o c s\n40\n50\n60\n70\n80NQ Answer Recall @ K\nRAG-Tok'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Tok\nRAG-Seq\nFixed DPR\nBM25\n10 20 30 40 50\nKR e t r i e v e dD o c s\n48'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='48\n50\n52\n54\n56Bleu-1 / Rouge-L score\nRAG-Tok R-L\nRAG-Tok B-1\nRAG-Seq R-L'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='RAG-Seq B-1'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Figure 3: Left: NQ performance as more documents are retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Center: Retrieval recall perfor-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='mance in NQ'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Right: MS-MARCO Bleu-1 and Rouge-L as more documents are retrieved.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='5 Related Work'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='Single-Task Retrieval Prior work has shown that retrieval improves'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='improves performance across a variety of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='NLP tasks when considered in isolation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Such tasks include open-domain question answering [5, 29],'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='fact checking [ 56], fact completion [ 48], long-form question answering ['), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='[ 12], Wikipedia article'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='generation [36], dialogue [ 41, 65, 9, 13], translation [ 17], and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='17], and language modeling [ 19, 27]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='. Our'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='work uniﬁes previous successes in incorporating retrieval into individual'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='tasks, showing that a single'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='retrieval-based architecture is capable of achieving strong performance'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='across several tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 7}, page_content='8'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='General-Purpose Architectures for NLP Prior work on general-purpose'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='architectures for NLP'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='tasks has shown great success without the use of retrieval'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. A single, pre-trained language model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='has been shown to achieve strong performance on various classiﬁcation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='tasks in the GLUE bench-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='marks [60, 61] after ﬁne-tuning [49, 8]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. GPT-2 [50] later showed that a single, left-to-right, pre-trained'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='language model could achieve strong performance across both discriminative'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and generative tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='For further improvement, BART [32] and T5 [51, 52] propose a single,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='a single, pre-trained encoder-decoder'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='model that leverages bi-directional attention to achieve stronger'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='stronger performance on discriminative'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and generative tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Our work aims to expand the space of possible tasks with a single, uniﬁed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='architecture, by learning a retrieval module to augment pre-trained,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='generative language models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='Learned Retrieval There is signiﬁcant work on learning to retrieve'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='retrieve documents in information'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='retrieval, more recently with pre-trained, neural language models [ 44,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='[ 44, 26] similar to ours'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Some'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='work optimizes the retrieval module to aid in a speciﬁc, downstream task'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='task such as question answering,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='using search [46], reinforcement learning [6, 63, 62], or a latent'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='a latent variable approach [31, 20] as in our'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='work'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. These successes leverage different retrieval-based architectures and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and optimization techniques to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='achieve strong performance on a single task, while we show that a single'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='a single retrieval-based architecture'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='can be ﬁne-tuned for strong performance on a variety of tasks.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='Memory-based Architectures Our document index can be seen as a large'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='a large external memory for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='neural networks to attend to, analogous to memory networks [64, 55]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Concurrent work [14] learns'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='to retrieve a trained embedding for each entity in the input, rather than'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='than to retrieve raw text as in our'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='work'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Other work improves the ability of dialog models to generate factual text'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='text by attending over'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='fact embeddings [15, 13]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. A key feature of our memory is that it is comprised of raw text rather'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='distributed representations, which makes the memory both (i)'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='both (i) human-readable, lending a form of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='interpretability to our model, and (ii) human-writable, enabling us to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='us to dynamically update the model’s'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='memory by editing the document index'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. This approach has also been used in knowledge-intensive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='dialog, where generators have been conditioned on retrieved text directly,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='directly, albeit obtained via TF-IDF'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='rather than end-to-end learnt retrieval [9].'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='Retrieve-and-Edit approaches Our method shares some similarities with'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='with retrieve-and-edit style'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='approaches, where a similar training input-output pair is retrieved for a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='for a given input, and then edited'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='to provide a ﬁnal output'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. These approaches have proved successful in a number of domains including'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='Machine Translation [ 18, 22] and Semantic Parsing [21]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Our approach does have several differences,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='including less of emphasis on lightly editing a retrieved item, but on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='but on aggregating content from several'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='pieces of retrieved content, as well as learning latent retrieval, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and retrieving evidence documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='rather than related training pairs'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. This said, RAG techniques may work well in these settings, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='could represent promising future work.\n6 Discussion'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='In this work, we presented hybrid generation models with access to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='access to parametric and non-parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='memory'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. We showed that our RAG models obtain state of the art results on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='on open-domain QA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. We'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='found that people prefer RAG’s generation over purely parametric BART,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='BART, ﬁnding RAG more factual'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and speciﬁc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. We conducted an thorough investigation of the learned retrieval'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='retrieval component, validating'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='its effectiveness, and we illustrated how the retrieval index can be'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='can be hot-swapped to update the model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='without requiring any retraining'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. In future work, it may be fruitful to investigate if the two components'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='can be jointly pre-trained from scratch, either with a denoising objective'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='objective similar to BART or some'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='another objective'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='. Our work opens up new research directions on how parametric and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='and non-parametric'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='memories interact and how to most effectively combine them, showing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='showing promise in being applied to a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 8}, page_content='wide variety of NLP tasks.\n9'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Broader Impact'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='This work offers several positive societal beneﬁts over previous work: the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='work: the fact that it is more'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='strongly grounded in real factual knowledge (in this case Wikipedia) makes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='makes it “hallucinate” less'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='with generations that are more factual, and offers more control and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='and interpretability'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. RAG could be'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='employed in a wide variety of scenarios with direct beneﬁt to society, for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='for example by endowing it'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='with a medical index and asking it open-domain questions on that topic, or'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='topic, or by helping people be more'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='effective at their jobs.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='With these advantages also come potential downsides: Wikipedia, or any'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='or any potential external knowledge'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='source, will probably never be entirely factual and completely devoid of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='devoid of bias'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Since RAG can be'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='employed as a language model, similar concerns as for GPT-2 [50] are valid'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='are valid here, although arguably'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='to a lesser extent, including that it might be used to generate abuse,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='abuse, faked or misleading content in'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='the news or on social media; to impersonate others; or to automate the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='the production of spam/phishing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='content [54]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Advanced language models may also lead to the automation of various jobs'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='jobs in the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='coming decades [16]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. In order to mitigate these risks, AI systems could be employed to ﬁght'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='to ﬁght against'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='misleading content and automated spam/phishing.\nAcknowledgments'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='The authors would like to thank the reviewers for their thoughtful and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='and constructive feedback on this'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='paper, as well as HuggingFace for their help in open-sourcing code to run'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='to run RAG models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. The authors'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='would also like to thank Kyunghyun Cho and Sewon Min for productive'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='discussions and advice'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. EP'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='thanks supports from the NSF Graduate Research Fellowship'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. PL is supported by the FAIR PhD'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='program.\nReferences'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[1] Payal Bajaj, Daniel Campos, Nick Craswell, Li Deng, Jianfeng Gao,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Gao, Xiaodong Liu, Rangan'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Majumder, Andrew McNamara, Bhaskar Mitra, Tri Nguyen, Mir Rosenberg, Xia'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Xia Song, Alina'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Stoica, Saurabh Tiwary, and Tong Wang. MS MARCO: A Human Generated MAchine'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Reading COmprehension Dataset. arXiv:1611.09268 [cs], November 2016'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. URL http:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='//arxiv.org/abs/1611.09268. arXiv: 1611.09268.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[2] Petr Baudiš and Jan Šediv`y'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Modeling of the question answering task in the yodaqa system. In'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='International Conference of the Cross-Language Evaluation Forum for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Forum for European Languages,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='pages 222–228. Springer, 2015. URL https://link.springer.com/chapter/10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='.1007%'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='2F978-3-319-24027-5_20 .'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[3] Jonathan Berant, Andrew Chou, Roy Frostig, and Percy Liang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Semantic Parsing on Freebase'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='from Question-Answer Pairs'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. In Proceedings of the 2013 Conference on Empirical Methods'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='in Natural Language Processing, pages 1533–1544, Seattle, Washington, USA,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='USA, October 2013'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Association for Computational Linguistics. URL http://www.aclweb'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='.aclweb.org/anthology/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='D13-1160.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[4] Bin Bi, Chenliang Li, Chen Wu, Ming Yan, and Wei Wang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Palm: Pre-training an autoencod-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='ing&autoregressive language model for context-conditioned generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. ArXiv, abs/2004.07159,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='2020. URL https://arxiv.org/abs/2004.07159.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[5] Danqi Chen, Adam Fisch, Jason Weston, and Antoine Bordes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Reading Wikipedia to Answer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Open-Domain Questions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. In Proceedings of the 55th Annual Meeting of the Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Computational Linguistics (Volume 1: Long Papers), pages 1870–1879,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Vancouver, Canada,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='July 2017. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. doi: 10.18653/v1/P17-1171. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='https://www.aclweb.org/anthology/P17-1171.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='[6] Eunsol Choi, Daniel Hewlett, Jakob Uszkoreit, Illia Polosukhin,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Alexandre Lacoste, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='Jonathan Berant. Coarse-to-ﬁne question answering for long documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. In Proceedings of the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='55th Annual Meeting of the Association for Computational Linguistics'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='(Volume 1: Long Papers),'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='pages 209–220, Vancouver, Canada, July 2017'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='. Association for Computational Linguistics. doi:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 9}, page_content='10.18653/v1/P17-1020. URL https://www.aclweb.org/anthology/P17-1020.\n10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[7] Christopher Clark and Matt Gardner'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Simple and Effective Multi-Paragraph Reading Compre-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='hension. arXiv:1710.10723 [cs], October 2017. URL http://arxiv'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.org/abs/1710.10723.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='arXiv: 1710.10723.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[8] Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. BERT: Pre-training of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Deep Bidirectional Transformers for Language Understanding'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. In Proceedings of the 2019 Con-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='ference of the North American Chapter of the Association for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Linguistics: Human'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Language Technologies, Volume 1 (Long and Short Papers), pages 4171–4186,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Minneapolis,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Minnesota, June 2019. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. doi: 10.18653/v1/N19-1423.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='URL https://www.aclweb.org/anthology/N19-1423.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[9] Emily Dinan, Stephen Roller, Kurt Shuster, Angela Fan, Michael Auli,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Auli, and Jason Weston'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Wiz-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='ard of wikipedia: Knowledge-powered conversational agents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. In International Conference on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Learning Representations, 2019. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.net/forum?id=r1l73iRqKm.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[10] Matthew Dunn, Levent Sagun, Mike Higgins, V'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Ugur Guney, V olkan Cirik, and Kyunghyun'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Cho'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. SearchQA: A New Q&A Dataset Augmented with Context from a Search Engine.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='arXiv:1704.05179 [cs], April 2017. URL http://arxiv.org/abs/1704.05179'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.05179. arXiv:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='1704.05179.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[11] Angela Fan, Mike Lewis, and Yann Dauphin'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Hierarchical neural story generation. In Proceed-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='ings of the 56th Annual Meeting of the Association for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Linguistics (Volume 1:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Long Papers), pages 889–898, Melbourne, Australia, July 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Association for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Linguistics. doi: 10.18653/v1/P18-1082. URL https://www.aclweb'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.aclweb.org/anthology/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='P18-1082.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[12] Angela Fan, Yacine Jernite, Ethan Perez, David Grangier, Jason'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Jason Weston, and Michael Auli'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. ELI5:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Long form question answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. In Proceedings of the 57th Annual Meeting of the Association'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='for Computational Linguistics, pages 3558–3567, Florence, Italy, July 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Computational Linguistics. doi: 10.18653/v1/P19-1346. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.aclweb.org/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='anthology/P19-1346.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[13] Angela Fan, Claire Gardent, Chloe Braud, and Antoine Bordes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Augmenting transformers'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='with KNN-based composite memory, 2020. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.net/forum?id='), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='H1gx1CNKPH.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[14] Thibault Févry, Livio Baldini Soares, Nicholas FitzGerald, Eunsol'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Eunsol Choi, and Tom Kwiatkowski'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Entities as experts: Sparse memory access with entity supervision'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. ArXiv, abs/2004.07202,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='2020. URL https://arxiv.org/abs/2004.07202.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[15] Marjan Ghazvininejad, Chris Brockett, Ming-Wei Chang, Bill Dolan,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Dolan, Jianfeng Gao, Wen'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='tau Yih, and Michel Galley. A knowledge-grounded neural conversation model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. In AAAI'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Conference on Artiﬁcial Intelligence, 2018. URL https://www.aaai'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.aaai.org/ocs/index.php/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='AAAI/AAAI18/paper/view/16710.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[16] Katja Grace, John Salvatier, Allan Dafoe, Baobao Zhang, and Owain'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='and Owain Evans'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. When will AI'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='exceed human performance? evidence from AI experts. CoRR, abs/1705'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.08807, 2017. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='http://arxiv.org/abs/1705.08807.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[17] Jiatao Gu, Yong Wang, Kyunghyun Cho, and Victor O.K. Li'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.K. Li. Search engine guided neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='machine translation. In AAAI Conference on Artiﬁcial Intelligence , 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. URL https:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='//www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/view/17282.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[18] Jiatao Gu, Yong Wang, Kyunghyun Cho, and Victor O.K. Li'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.K. Li. Search engine guided neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='machine translation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. In 32nd AAAI Conference on Artiﬁcial Intelligence, AAAI 2018 , 32nd'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='AAAI Conference on Artiﬁcial Intelligence, AAAI 2018, pages 5133–5140'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. AAAI press, 2018.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='32nd AAAI Conference on Artiﬁcial Intelligence, AAAI 2018 ; Conference'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='date: 02-02-2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='Through 07-02-2018.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='[19] Kelvin Guu, Tatsunori B. Hashimoto, Yonatan Oren, and Percy Liang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Generating sentences by'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='editing prototypes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='. Transactions of the Association for Computational Linguistics, 6:437–450,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='2018. doi: 10.1162/tacl_a_00030. URL https://www.aclweb'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='.aclweb.org/anthology/Q18-1031.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 10}, page_content='11'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[20] Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Ming-Wei Chang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. REALM:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Retrieval-augmented language model pre-training. ArXiv, abs/2002'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='.08909, 2020. URL https:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='//arxiv.org/abs/2002.08909.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[21] Tatsunori B Hashimoto, Kelvin Guu, Yonatan Oren, and Percy S Liang. A'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='retrieve-and-edit framework for predicting structured outputs. In S'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In S. Bengio,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='H. Wallach, H. Larochelle, K. Grauman, N. Cesa-Bianchi, and R'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Garnett, ed-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='itors, Advances in Neural Information Processing Systems 31 , pages 10052–'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='10062. Curran Associates, Inc., 2018. URL http://papers.nips.cc/paper/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='8209-a-retrieve-and-edit-framework-for-predicting-structured-outputs.\npdf.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[22] Nabil Hossain, Marjan Ghazvininejad, and Luke Zettlemoyer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Simple and effective retrieve-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='edit-rerank text generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In Proceedings of the 58th Annual Meeting of the Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Computational Linguistics, pages 2532–2538, Online, July 2020'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Association for Computa-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='tional Linguistics. doi: 10.18653/v1/2020.acl-main.228. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='.aclweb.org/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='anthology/2020.acl-main.228.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[23] Jeff Johnson, Matthijs Douze, and Hervé Jégou'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Billion-scale similarity search with gpus. arXiv'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='preprint arXiv:1702.08734, 2017. URL https://arxiv.org/abs/1702.08734.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[24] Mandar Joshi, Eunsol Choi, Daniel Weld, and Luke Zettlemoyer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. TriviaQA: A Large Scale'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Distantly Supervised Challenge Dataset for Reading Comprehension'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In Proceedings of the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='55th Annual Meeting of the Association for Computational Linguistics'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='(Volume 1: Long Papers),'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='pages 1601–1611, Vancouver, Canada, July 2017'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Association for Computational Linguistics.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='doi: 10.18653/v1/P17-1147. URL https://www.aclweb.org/anthology/P17-1147.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[25] Armand Joulin and Tomas Mikolov'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Inferring algorithmic patterns with stack-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='augmented recurrent nets'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In Proceedings of the 28th International Conference on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Neural Information Processing Systems - Volume 1 , NIPS’15, page 190–198,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='190–198, Cam-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='bridge, MA, USA, 2015. MIT Press. URL https://papers.nips.cc/paper/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='5857-inferring-algorithmic-patterns-with-stack-augmented-recurrent-nets .'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[26] Vladimir Karpukhin, Barlas Oguz, Sewon Min, Ledell Wu, Sergey Edunov,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Edunov, Danqi Chen, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Wen-tau Yih. Dense passage retrieval for open-domain question answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. arXiv preprint'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='arXiv:2004.04906, 2020. URL https://arxiv.org/abs/2004.04906.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[27] Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='and Mike Lewis'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Generaliza-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='tion through memorization: Nearest neighbor language models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In International Conference on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Learning Representations, 2020. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='.net/forum?id=HklBjCEKvH.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[28] Diederik P. Kingma and Jimmy Ba'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Adam: A method for stochastic optimization. In Yoshua'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Bengio and Yann LeCun, editors, 3rd International Conference on Learning'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Learning Representations,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='ICLR 2015, San Diego, CA, USA, May 7-9, 2015, Conference Track'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Track Proceedings, 2015'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='http://arxiv.org/abs/1412.6980.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[29] Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redﬁeld, Michael'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Michael Collins, Ankur Parikh,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Chris Alberti, Danielle Epstein, Illia Polosukhin, Matthew Kelcey, Jacob'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Jacob Devlin, Ken-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='ton Lee, Kristina N'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Toutanova, Llion Jones, Ming-Wei Chang, Andrew Dai, Jakob'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Uszkoreit, Quoc Le, and Slav Petrov'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Natural Questions: a Benchmark for Ques-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='tion Answering Research'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Transactions of the Association of Computational Lin-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='guistics, 2019. URL https://tomkwiat.users.x20web.corp.google.com/papers/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='natural-questions/main-1455-kwiatkowski.pdf .'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[30] Guillaume Lample, Alexandre Sablayrolles, Marc’ Aurelio Ranzato,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Ranzato, Ludovic Denoyer, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='Herve Jegou. Large memory layers with product keys. In H. Wallach, H'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Larochelle,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='A. Beygelzimer, F. d’ Alché-Buc, E. Fox, and R'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Garnett, editors, Advances in Neural In-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='formation Processing Systems 32, pages 8548–8559. Curran Associates, Inc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='., 2019. URL http:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='//papers.nips.cc/paper/9061-large-memory-layers-with-product-keys.pdf .'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='[31] Kenton Lee, Ming-Wei Chang, and Kristina Toutanova'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. Latent retrieval for weakly supervised'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='open domain question answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='. In Proceedings of the 57th Annual Meeting of the Association'), Document(metadata={'source': 'rag_paper.pdf', 'page': 11}, page_content='12'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='for Computational Linguistics, pages 6086–6096, Florence, Italy, July 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Computational Linguistics. doi: 10.18653/v1/P19-1612. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.aclweb.org/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='anthology/P19-1612.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[32] Mike Lewis, Yinhan Liu, Naman Goyal, Marjan Ghazvininejad,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Abdelrahman Mohamed,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Omer Levy, Veselin Stoyanov, and Luke Zettlemoyer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. BART: Denoising sequence-to-sequence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='pre-training for natural language generation, translation, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='and comprehension'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. arXiv preprint'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='arXiv:1910.13461, 2019. URL https://arxiv.org/abs/1910.13461.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[33] Jiwei Li, Michel Galley, Chris Brockett, Jianfeng Gao, and Bill Dolan'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. A diversity-promoting'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='objective function for neural conversation models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. In Proceedings of the 2016 Conference of the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='North American Chapter of the Association for Computational Linguistics:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Human Language'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Technologies, pages 110–119, San Diego, California, June 2016'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Association for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Linguistics. doi: 10.18653/v1/N16-1014. URL https://www.aclweb'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.aclweb.org/anthology/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='N16-1014.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[34] Margaret Li, Jason Weston, and Stephen Roller'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Acute-eval: Improved dialogue evaluation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='with optimized questions and multi-turn comparisons. ArXiv, abs/1909'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.03087, 2019. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='https://arxiv.org/abs/1909.03087.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[35] Hairong Liu, Mingbo Ma, Liang Huang, Hao Xiong, and Zhongjun He'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Robust neural machine'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='translation with joint textual and phonetic embedding'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. In Proceedings of the 57th Annual'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Meeting of the Association for Computational Linguistics, pages 3044–3049,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Florence, Italy,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='July 2019. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. doi: 10.18653/v1/P19-1291. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='https://www.aclweb.org/anthology/P19-1291.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[36] Peter J'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Liu*, Mohammad Saleh*, Etienne Pot, Ben Goodrich, Ryan Sepassi, Lukasz'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Lukasz Kaiser,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='and Noam Shazeer. Generating wikipedia by summarizing long sequences'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. In International'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Conference on Learning Representations, 2018. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.net/forum?'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='id=Hyg0vbWC-.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[37] Yury A. Malkov and D. A. Yashunin'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Yashunin. Efﬁcient and robust approximate nearest neighbor search'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='using hierarchical navigable small world graphs'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. IEEE Transactions on Pattern Analysis and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Machine Intelligence, 42:824–836, 2016. URL https://arxiv.org/abs/1603'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.09320.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[38] Gary Marcus'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. The next decade in ai: four steps towards robust artiﬁcial intelligence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. arXiv'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='preprint arXiv:2002.06177, 2020. URL https://arxiv.org/abs/2002.06177.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[39] Luca Massarelli, Fabio Petroni, Aleksandra Piktus, Myle Ott, Tim'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Ott, Tim Rocktäschel, Vassilis'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Plachouras, Fabrizio Silvestri, and Sebastian Riedel'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. How decoding strategies affect the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='veriﬁability of generated text. arXiv preprint arXiv:1911.03587 , 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. URL https:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='//arxiv.org/abs/1911.03587.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[40] Paulius Micikevicius, Sharan Narang, Jonah Alben, Gregory Diamos,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Diamos, Erich Elsen, David Garcia,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Boris Ginsburg, Michael Houston, Oleksii Kuchaiev, Ganesh Venkatesh, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='and Hao Wu'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Mixed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='precision training. In ICLR, 2018. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.net/forum?id=r1gs9JgRZ.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[41] Nikita Moghe, Siddhartha Arora, Suman Banerjee, and Mitesh M. Khapra'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Khapra. Towards exploit-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='ing background knowledge for building conversation systems'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. In Proceedings of the 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Conference on Empirical Methods in Natural Language Processing, pages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='pages 2322–2332, Brus-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='sels, Belgium, October-November 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Association for Computational Linguistics. doi:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='10.18653/v1/D18-1255. URL https://www.aclweb.org/anthology/D18-1255.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[42] Preksha Nema and Mitesh M. Khapra'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Khapra. Towards a better metric for evaluating question generation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='systems'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. In Proceedings of the 2018 Conference on Empirical Methods in Natural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Natural Language'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Processing, pages 3950–3959, Brussels, Belgium, October-November 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Computational Linguistics. doi: 10.18653/v1/D18-1429. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='.aclweb.org/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='anthology/D18-1429.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='[43] Tri Nguyen, Mir Rosenberg, Xia Song, Jianfeng Gao, Saurabh Tiwary,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Tiwary, Rangan Majumder,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='and Li Deng'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. MS MARCO: A human generated machine reading comprehension dataset. In'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Tarek Richard Besold, Antoine Bordes, Artur S'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='. d’Avila Garcez, and Greg Wayne, editors,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='Proceedings of the Workshop on Cognitive Computation: Integrating neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='neural and symbolic'), Document(metadata={'source': 'rag_paper.pdf', 'page': 12}, page_content='13'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='approaches 2016 co-located with the 30th Annual Conference on Neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='on Neural Information Processing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Systems (NIPS 2016), Barcelona, Spain, December 9, 2016, volume 1773 of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='1773 of CEUR Workshop'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Proceedings. CEUR-WS.org, 2016. URL http://ceur-ws.org/Vol-1773/CoCoNIPS_'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='2016_paper9.pdf.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[44] Rodrigo Nogueira and Kyunghyun Cho. Passage re-ranking with BERT'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. arXiv preprint'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='arXiv:1901.04085, 2019. URL https://arxiv.org/abs/1901.04085.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[45] Myle Ott, Sergey Edunov, Alexei Baevski, Angela Fan, Sam Gross,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Gross, Nathan Ng, David Grangier,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='and Michael Auli'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. fairseq: A fast, extensible toolkit for sequence modeling. In Proceedings'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='of the 2019 Conference of the North American Chapter of the Association'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Linguistics (Demonstrations), pages 48–53, Minneapolis, Minnesota, June'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='June 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Association'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='for Computational Linguistics. doi: 10.18653/v1/N19-4009. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='.aclweb.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='org/anthology/N19-4009.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[46] Ethan Perez, Siddharth Karamcheti, Rob Fergus, Jason Weston, Douwe'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Douwe Kiela, and Kyunghyun'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Cho. Finding generalizable evidence by learning to convince q&a models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. In Proceedings'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='of the 2019 Conference on Empirical Methods in Natural Language Processing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='and the 9th'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='International Joint Conference on Natural Language Processing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='(EMNLP-IJCNLP) , pages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='2402–2411, Hong Kong, China, November 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Association for Computational Linguistics.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='doi: 10.18653/v1/D19-1244. URL https://www.aclweb.org/anthology/D19-1244.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[47] Fabio Petroni, Tim Rocktäschel, Sebastian Riedel, Patrick Lewis,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Lewis, Anton Bakhtin, Yuxiang Wu,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='and Alexander Miller'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Language models as knowledge bases? In Proceedings of the 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Conference on Empirical Methods in Natural Language Processing and the 9th'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='the 9th International'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Joint Conference on Natural Language Processing (EMNLP-IJCNLP), pages'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='pages 2463–2473, Hong'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Kong, China, November 2019. Association for Computational Linguistics'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. doi: 10.18653/v1/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='D19-1250. URL https://www.aclweb.org/anthology/D19-1250.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[48] Fabio Petroni, Patrick Lewis, Aleksandra Piktus, Tim Rocktäschel,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Yuxiang Wu, Alexander H'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Miller, and Sebastian Riedel'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. How context affects language models’ factual predictions. In'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Automated Knowledge Base Construction, 2020. URL https://openreview'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='.net/forum?'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='id=025X0zPfn.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[49] Alec Radford, Karthik Narasimhan, Tim Salimans, and Ilya Sutskever'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Im-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='proving Language Understanding by Generative Pre-Training, 2018. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='https://s3-us-west-2.amazonaws.com/openai-assets/research-covers/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='language-unsupervised/language_understanding_paper.pdf.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[50] Alec Radford, Jeff Wu, Rewon Child, David Luan, Dario Amodei, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='and Ilya'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Sutskever. Language models are unsupervised multitask learners, 2019. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='https://d4mucfpksywv.cloudfront.net/better-language-models/language_'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='models_are_unsupervised_multitask_learners.pdf.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[51] Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Sharan Narang, Michael Matena,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Yanqi Zhou, Wei Li, and Peter J. Liu'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Liu. Exploring the limits of transfer learning with a uniﬁed'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='text-to-text transformer. arXiv e-prints, 2019. URL https://arxiv'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='.org/abs/1910.10683.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[52] Adam Roberts, Colin Raffel, and Noam Shazeer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. How much knowledge can you pack into'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='the parameters of a language model? arXiv e-prints, 2020'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. URL https://arxiv.org/abs/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='2002.08910.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[53] Stephen Robertson and Hugo Zaragoza'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. The probabilistic relevance framework: Bm25 and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='beyond. Found. Trends Inf. Retr., 3(4):333–389, April 2009. ISSN 1554-0669'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. doi: 10.1561/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='1500000019. URL https://doi.org/10.1561/1500000019.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[54] Irene Solaiman, Miles Brundage, Jack Clark, Amanda Askell, Ariel'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Ariel Herbert-V oss, Jeff Wu, Alec'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='Radford, and Jian-Bing Wang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Release strategies and the social impacts of language models.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='ArXiv, abs/1908.09203, 2019.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='[55] Sainbayar Sukhbaatar, Arthur Szlam, Jason Weston, and Rob Fergus'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. End-to-end memory net-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='works. In C. Cortes, N. D. Lawrence, D. D. Lee, M. Sugiyama, and R'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Garnett, editors,Advances'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='in Neural Information Processing Systems 28, pages 2440–2448'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='. Curran Associates, Inc., 2015.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 13}, page_content='URL http://papers.nips.cc/paper/5846-end-to-end-memory-networks.pdf .\n14'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[56] James Thorne, Andreas Vlachos, Christos Christodoulopoulos, and Arpit'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='and Arpit Mittal'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. FEVER: a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='large-scale dataset for fact extraction and VERiﬁcation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. In Proceedings of the 2018 Conference'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='of the North American Chapter of the Association for Computational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Linguistics: Human'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Language Technologies, Volume 1 (Long Papers), pages 809–819, New Orleans,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Orleans, Louisiana,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='June 2018. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. doi: 10.18653/v1/N18-1074. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='https://www.aclweb.org/anthology/N18-1074.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[57] James H. Thorne and Andreas Vlachos'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Avoiding catastrophic forgetting in mitigating model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='biases in sentence-pair classiﬁcation with elastic weight consolidation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. ArXiv, abs/2004.14366,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='2020. URL https://arxiv.org/abs/2004.14366.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[58] Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Llion Jones, Aidan N Gomez,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Ł ukasz Kaiser, and Illia Polosukhin. Attention is all you need. In I'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. In I. Guyon, U. V . Luxburg,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='S. Bengio, H. Wallach, R. Fergus, S. Vishwanathan, and R'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Garnett, editors,Advances in Neural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Information Processing Systems 30, pages 5998–6008. Curran Associates, Inc'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='., 2017. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='http://papers.nips.cc/paper/7181-attention-is-all-you-need.pdf .'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[59] Ashwin Vijayakumar, Michael Cogswell, Ramprasaath Selvaraju, Qing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Qing Sun, Stefan Lee, David'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Crandall, and Dhruv Batra'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Diverse beam search for improved description of complex scenes.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='AAAI Conference on Artiﬁcial Intelligence, 2018. URL https://www.aaai'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='.aaai.org/ocs/index.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='php/AAAI/AAAI18/paper/view/17329.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[60] Alex Wang, Amanpreet Singh, Julian Michael, Felix Hill, Omer Levy,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Levy, and Samuel Bowman'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='GLUE: A multi-task benchmark and analysis platform for natural language'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='language understanding'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='In Proceedings of the 2018 EMNLP Workshop BlackboxNLP: Analyzing and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='and Interpreting'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Neural Networks for NLP, pages 353–355, Brussels, Belgium, November 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Association for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Computational Linguistics. doi: 10.18653/v1/W18-5446. URL https://www'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='.aclweb.org/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='anthology/W18-5446.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[61] Alex Wang, Yada Pruksachatkun, Nikita Nangia, Amanpreet Singh, Julian'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Julian Michael, Felix'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Hill, Omer Levy, and Samuel Bowman'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. SuperGLUE: A Stickier Benchmark for General-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Purpose Language Understanding Systems. In H. Wallach, H. Larochelle, A'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Beygelzimer,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='F. d\\textquotesingle Alché-Buc, E. Fox, and R'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Garnett, editors,Advances in Neural Information'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Processing Systems 32, pages 3261–3275. Curran Associates, Inc., 2019'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='., 2019. URL https://'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='arxiv.org/abs/1905.00537.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[62] Shuohang Wang, Mo Yu, Xiaoxiao Guo, Zhiguo Wang, Tim Klinger, Wei'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Wei Zhang, Shiyu Chang,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Gerry Tesauro, Bowen Zhou, and Jing Jiang'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. R3: Reinforced ranker-reader for open-domain'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='question answering. In Sheila A. McIlraith and Kilian Q'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Weinberger, editors, Proceedings of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='the Thirty-Second AAAI Conference on Artiﬁcial Intelligence, (AAAI-18),'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='the 30th innovative'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Applications of Artiﬁcial Intelligence (IAAI-18), and the 8th AAAI'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='8th AAAI Symposium on Educational'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Advances in Artiﬁcial Intelligence (EAAI-18), New Orleans, Louisiana, USA,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='USA, February 2-7,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='2018, pages 5981–5988. AAAI Press, 2018. URL https://www.aaai'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='.aaai.org/ocs/index.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='php/AAAI/AAAI18/paper/view/16712.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[63] Shuohang Wang, Mo Yu, Jing Jiang, Wei Zhang, Xiaoxiao Guo, Shiyu'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Shiyu Chang, Zhiguo Wang,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Tim Klinger, Gerald Tesauro, and Murray Campbell'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Evidence aggregation for answer re-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='ranking in open-domain question answering. In ICLR, 2018'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. URL https://openreview.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='net/forum?id=rJl3yM-Ab.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[64] Jason Weston, Sumit Chopra, and Antoine Bordes. Memory networks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. In Yoshua Bengio'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='and Yann LeCun, editors, 3rd International Conference on Learning'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='Learning Representations, ICLR'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='2015, San Diego, CA, USA, May 7-9, 2015, Conference Track Proceedings ,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content=', 2015'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='http://arxiv.org/abs/1410.3916.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='[65] Jason Weston, Emily Dinan, and Alexander Miller'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. Retrieve and reﬁne: Improved sequence'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='generation models for dialogue'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. In Proceedings of the 2018 EMNLP Workshop SCAI: The 2nd'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='International Workshop on Search-Oriented Conversational AI, pages 87–92,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='87–92, Brussels, Belgium,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='October 2018. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='. doi: 10.18653/v1/W18-5713. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 14}, page_content='https://www.aclweb.org/anthology/W18-5713.\n15'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='[66] Thomas Wolf, Lysandre Debut, Victor Sanh, Julien Chaumond, Clement'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Clement Delangue, Anthony'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Moi, Pierric Cistac, Tim Rault, Rémi Louf, Morgan Funtowicz, Joe Davison,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Davison, Sam Shleifer,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Patrick von Platen, Clara Ma, Yacine Jernite, Julien Plu, Canwen Xu, Teven'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Xu, Teven Le Scao, Sylvain'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Gugger, Mariama Drame, Quentin Lhoest, and Alexander M. Rush'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='. Rush. Huggingface’s transformers:'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='State-of-the-art natural language processing. ArXiv, abs/1910.03771, 2019.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='[67] Shiyue Zhang and Mohit Bansal'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='. Addressing semantic drift in question generation for semi-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='supervised question answering'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='. In Proceedings of the 2019 Conference on Empirical Meth-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='ods in Natural Language Processing and the 9th International Joint'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Joint Conference on Natural'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Language Processing (EMNLP-IJCNLP) , pages 2495–2509, Hong Kong, China,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='China, Novem-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='ber 2019. Association for Computational Linguistics. doi: 10'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='. doi: 10.18653/v1/D19-1253. URL'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='https://www.aclweb.org/anthology/D19-1253.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='[68] Wanjun Zhong, Jingjing Xu, Duyu Tang, Zenan Xu, Nan Duan, Ming Zhou,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Zhou, Jiahai Wang, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='Jian Yin. Reasoning over semantic-level graph for fact checking'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='. ArXiv, abs/1909.03745, 2019.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 15}, page_content='URL https://arxiv.org/abs/1909.03745.\n16'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Appendices for Retrieval-Augmented Generation for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Knowledge-Intensive NLP Tasks\nA Implementation Details'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='For Open-domain QA we report test numbers using 15 retrieved documents for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='for RAG-Token models'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='For RAG-Sequence models, we report test results using 50 retrieved'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='retrieved documents, and we use the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Thorough Decoding approach since answers are generally short'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. We use greedy decoding for QA as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='we did not ﬁnd beam search improved results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. For Open-MSMarco and Jeopardy question generation,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='we report test numbers using ten retrieved documents for both RAG-Token'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='RAG-Token and RAG-Sequence,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='and we also train a BART-large model as a baseline'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. We use a beam size of four, and use the Fast'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Decoding approach for RAG-Sequence models, as Thorough Decoding did not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='did not improve performance'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='B Human Evaluation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Figure 4: Annotation interface for human evaluation of factuality'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. A pop-out for detailed instructions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='and a worked example appear when clicking "view tool guide".'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Figure 4 shows the user interface for human evaluation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. To avoid any biases for screen position,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='which model corresponded to sentence A and sentence B was randomly'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='randomly selected for each example'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Annotators were encouraged to research the topic using the internet, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='and were given detailed instruc-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='tions and worked examples in a full instructions tab'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. We included some gold sentences in order to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='assess the accuracy of the annotators'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. Two annotators did not perform well on these examples and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='their annotations were removed from the results.\nC Training setup Details'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='We train all RAG models and BART baselines using Fairseq [45]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.2 We train with mixed precision'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='ﬂoating point arithmetic [40], distributing training across 8, 32GB NVIDIA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='NVIDIA V100 GPUs, though'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='training and inference can be run on one GPU'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. We ﬁnd that doing Maximum Inner Product Search'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='with FAISS is sufﬁciently fast on CPU, so we store document index vectors'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='vectors on CPU, requiring∼100'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='GB of CPU memory for all of Wikipedia'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. After submission, We have ported our code to HuggingFace'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='Transformers [66]3, which achieves equivalent performance to the previous'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='previous version but is a cleaner'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='and easier to use implementation. This version is also open-sourced'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. We also compress the document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='index using FAISS’s compression tools, reducing the CPU memory requirement'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='to 36GB'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='. Scripts to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='run experiments with RAG can be found athttps://github'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.com/huggingface/transformers/'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='blob/master/examples/rag/README'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='.md and an interactive demo of a RAG model can be found'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='at https://huggingface.co/rag/\n2https://github.com/pytorch/fairseq'), Document(metadata={'source': 'rag_paper.pdf', 'page': 16}, page_content='3https://github.com/huggingface/transformers\n17'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='D Further Details on Open-Domain QA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='For open-domain QA, multiple answer annotations are often available for a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='for a given question'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. These'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='answer annotations are exploited by extractive models during training as'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='as typically all the answer'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='annotations are used to ﬁnd matches within documents when preparing'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='preparing training data'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. For RAG, we'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='also make use of multiple annotation examples for Natural Questions and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='and WebQuestions by training'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='the model with each (q,a) pair separately, leading to a small increase in'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='in accuracy'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. For TriviaQA,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='there are often many valid answers to a given question, some of which are'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='which are not suitable training targets,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='such as emoji or spelling variants'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. For TriviaQA, we ﬁlter out answer candidates if they do not occur'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='in top 1000 documents for the query.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='CuratedTrec preprocessing The answers for CuratedTrec are given in the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='in the form of regular expres-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='sions, which has been suggested as a reason why it is unsuitable for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='for answer-generation models [20]'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='To overcome this, we use a pre-processing step where we ﬁrst retrieve the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='the top 1000 documents for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='each query, and use the answer that most frequently matches the regex'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='the regex pattern as the supervision'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='target'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. If no matches are found, we resort to a simple heuristic: generate all'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='all possible permutations for'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='each regex, replacing non-deterministic symbols in the regex nested tree'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='tree structure with a whitespace'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='TriviaQA Evaluation setups The open-domain QA community customarily uses'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='uses public develop-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='ment datasets as test datasets, as test data for QA datasets is often'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='is often restricted and dedicated to reading'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='compehension purposes'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. We report our results using the datasets splits used in DPR [26], which'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='which are'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='consistent with common practice in Open-domain QA'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. For TriviaQA, this test dataset is the public'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='TriviaQA Web Development split. Roberts et al'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='.[52] used the TriviaQA ofﬁcial Wikipedia test set'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='instead. Févry et al'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. [14] follow this convention in order to compare with Roberts et al'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. [52] (See'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='appendix of [14])'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. We report results on both test sets to enable fair comparison to both'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='to both approaches'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='We ﬁnd that our performance is much higher using the ofﬁcial Wiki test'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='Wiki test set, rather than the more'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='conventional open-domain test set, which we attribute to the ofﬁcial Wiki'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='Wiki test set questions being'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='simpler to answer from Wikipedia.\nE Further Details on FEVER'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='For FEVER classiﬁcation, we follow the practice from [ 32], and ﬁrst'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='and ﬁrst re-generate the claim, and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='then classify using the representation of the ﬁnal hidden state, before'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='before ﬁnally marginalizing across'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='documents to obtain the class probabilities'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. The FEVER task traditionally has two sub-tasks. The'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='ﬁrst is to classify the claim as either "Supported", "Refuted" or "Not'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='or "Not Enough Info", which is the task'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='we explore in the main paper'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. FEVER’s other sub-task involves extracting sentences from Wikipedia'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='as evidence supporting the classiﬁcation prediction'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. As FEVER uses a different Wikipedia dump to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='us, directly tackling this task is not straightforward'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. We hope to address this in future work.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='F Null Document Probabilities'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='We experimented with adding "Null document" mechanism to RAG, similar to'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='to REALM [20] in order'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='to model cases where no useful information could be retrieved for a given'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='a given input'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. Here, ifkdocuments'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='were retrieved, we would additionally "retrieve" an empty document and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='and predict a logit for the null'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='document, before marginalizing over k+ 1predictions'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. We explored modelling this null document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='logit by learning (i) a document embedding for the null document, (ii) a'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='(ii) a static learnt bias term, or'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='(iii) a neural network to predict the logit'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. We did not ﬁnd that these improved performance, so in'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='the interests of simplicity, we omit them'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='. For Open MS-MARCO, where useful retrieved documents'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='cannot always be retrieved, we observe that the model learns to always'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='to always retrieve a particular set of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='documents for questions that are less likely to beneﬁt from retrieval,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='suggesting that null document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='mechanisms may not be necessary for RAG.\nG Parameters'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='Our RAG models contain the trainable parameters for the BERT-base query'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='query and document encoder of'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='DPR, with 110M parameters each (although we do not train the document'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='document encoder ourselves) and'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='406M trainable parameters from BART-large, 406M parameters, making a total'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='a total of 626M trainable'), Document(metadata={'source': 'rag_paper.pdf', 'page': 17}, page_content='18'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='Table 7: Number of instances in the datasets used'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='. *A hidden subset of this data is used for evaluation'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='Task Train Development Test\nNatural Questions 79169 8758 3611'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='TriviaQA 78786 8838 11314\nWebQuestions 3418 362 2033'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='CuratedTrec 635 134 635\nJeopardy Question Generation 97392 13714 26849'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='MS-MARCO 153726 12468 101093*\nFEVER-3-way 145450 10000 10000'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='FEVER-2-way 96966 6666 6666'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='parameters'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='. The best performing "closed-book" (parametric only) open-domain QA model'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='QA model is T5-11B'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='with 11 Billion trainable parameters'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='. The T5 model with the closest number of parameters to our'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='models is T5-large (770M parameters), which achieves a score of 28'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.9 EM on Natural Questions [52],'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='substantially below the 44'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.5 that RAG-Sequence achieves, indicating that hybrid parametric/non-'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='parametric models require far fewer trainable parameters for strong'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='strong open-domain QA performance'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='The non-parametric memory index does not consist of trainable parameters,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='but does consists of 21M'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='728 dimensional vectors, consisting of 15.3B values'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.3B values. These can be easily be stored at 8-bit ﬂoating'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='point precision to manage memory and disk footprints.\nH Retrieval Collapse'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='In preliminary experiments, we observed that for some tasks such as story'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='as story generation [ 11], the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='retrieval component would “collapse” and learn to retrieve the same'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='the same documents regardless of the'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='input'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='. In these cases, once retrieval had collapsed, the generator would learn'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='learn to ignore the documents,'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='and the RAG model would perform equivalently to BART'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='. The collapse could be due to a less-explicit'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='requirement for factual knowledge in some tasks, or the longer target'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='target sequences, which could result'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='in less informative gradients for the retriever. Perez et al'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.[46] also found spurious retrieval results'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='when optimizing a retrieval component in order to improve performance on'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='on downstream tasks'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='I Number of instances per dataset'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='The number of training, development and test datapoints in each of our'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='of our datasets is shown in Table 7'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='.'), Document(metadata={'source': 'rag_paper.pdf', 'page': 18}, page_content='19')]
    [64, 30, 70, 26, 71, 12, 72, 22, 66, 17, 72, 18, 16, 66, 68, 17, 38, 46, 74, 6, 65, 23, 73, 4, 67, 10, 70, 4, 73, 72, 10, 71, 9, 69, 18, 72, 18, 9, 67, 72, 16, 56, 20, 13, 64, 66, 15, 32, 73, 25, 19, 63, 18, 32, 63, 62, 44, 56, 39, 31, 69, 66, 29, 25, 65, 72, 29, 40, 69, 70, 58, 56, 60, 70, 64, 72, 72, 68, 34, 62, 64, 19, 22, 66, 28, 69, 25, 1, 64, 34, 56, 42, 64, 36, 58, 42, 1, 72, 28, 73, 25, 9, 73, 4, 9, 72, 31, 69, 39, 32, 65, 71, 30, 70, 27, 68, 33, 1, 72, 37, 60, 37, 47, 46, 67, 29, 9, 74, 22, 36, 61, 38, 73, 22, 46, 49, 72, 27, 74, 13, 21, 66, 30, 1, 71, 25, 71, 30, 28, 68, 71, 30, 73, 30, 2, 9, 69, 29, 59, 34, 74, 32, 71, 35, 70, 29, 51, 42, 13, 71, 8, 1, 73, 31, 33, 71, 39, 1, 67, 30, 32, 65, 28, 69, 23, 75, 69, 10, 74, 20, 21, 75, 13, 65, 21, 17, 68, 38, 59, 59, 49, 69, 24, 40, 58, 34, 57, 70, 40, 73, 33, 66, 73, 37, 66, 28, 1, 18, 52, 40, 57, 73, 30, 74, 17, 13, 70, 27, 67, 30, 8, 74, 27, 6, 68, 30, 22, 62, 19, 70, 25, 8, 65, 20, 22, 65, 26, 10, 74, 17, 17, 65, 41, 11, 69, 17, 1, 12, 74, 26, 28, 70, 1, 63, 31, 31, 66, 71, 29, 1, 70, 30, 65, 18, 1, 12, 66, 33, 1, 71, 15, 54, 68, 44, 74, 24, 68, 33, 65, 33, 68, 29, 72, 22, 72, 37, 23, 72, 68, 29, 69, 30, 16, 74, 19, 71, 13, 67, 29, 63, 31, 52, 47, 49, 43, 70, 30, 59, 38, 25, 67, 56, 34, 74, 18, 34, 65, 67, 10, 19, 68, 34, 56, 33, 72, 33, 38, 59, 40, 52, 72, 25, 5, 74, 23, 6, 73, 13, 1, 34, 71, 27, 15, 74, 8, 38, 59, 69, 34, 18, 73, 8, 1, 45, 43, 73, 29, 67, 36, 1, 65, 21, 7, 70, 32, 68, 34, 7, 69, 23, 65, 37, 1, 72, 39, 1, 74, 25, 59, 37, 70, 38, 48, 72, 21, 4, 56, 39, 33, 54, 68, 28, 16, 65, 15, 18, 75, 16, 71, 22, 11, 58, 40, 51, 41, 70, 24, 1, 20, 68, 32, 63, 30, 74, 30, 69, 30, 53, 45, 69, 15, 14, 69, 37, 17, 65, 22, 18, 71, 21, 73, 22, 12, 73, 26, 58, 41, 44, 64, 28, 71, 14, 14, 64, 39, 38, 52, 71, 31, 68, 42, 12, 71, 7, 62, 33, 65, 11, 1, 66, 30, 7, 72, 37, 69, 39, 1, 45, 48, 41, 71, 43, 44, 73, 68, 50, 41, 45, 42, 60, 67, 66, 48, 47, 72, 12, 20, 55, 34, 74, 8, 7, 29, 61, 72, 31, 68, 30, 59, 38, 15, 69, 18, 33, 64, 61, 74, 29, 47, 44, 44, 49, 64, 30, 70, 27, 49, 48, 25, 52, 72, 25, 72, 17, 16, 10, 67, 21, 15, 73, 11, 9, 67, 30, 1, 68, 35, 9, 75, 19, 4, 71, 29, 3, 71, 26, 73, 20, 12, 74, 26, 69, 8, 20, 60, 30, 68, 24, 1, 20, 34, 56, 64, 37, 74, 26, 1, 1, 57, 69, 30, 65, 71, 67, 54, 72, 31, 58, 38, 71, 20, 1, 39, 57, 9, 68, 27, 1, 54, 74, 12, 1, 71, 73, 32, 64, 47, 69, 41, 63, 57, 65, 17, 71, 31, 58, 67, 25, 72, 28, 71, 26, 8, 65, 37, 1, 74, 27, 17, 70, 9, 36, 63, 70, 34, 1, 22, 30, 58, 37, 55, 73, 31, 42, 51, 74, 25, 33, 73, 33, 1, 72, 39, 15, 72, 71, 14, 18, 73, 33, 33, 63, 66, 9, 26, 73, 23, 1, 72, 26, 34, 65, 42, 54, 73, 23, 43, 55, 1, 69, 67, 66, 67, 55, 42, 33, 67, 52, 43, 62, 69, 64, 71, 74, 37, 64, 36, 41, 52, 70, 26, 74, 32, 1, 70, 25, 1, 74, 24, 70, 12, 13, 74, 32, 7, 67, 32, 66, 35, 9, 71, 21, 73, 16, 1, 55, 56, 68, 74, 72, 11, 62, 34, 11, 69, 14, 66, 40, 38, 60, 74, 24, 66, 36, 5, 73, 28, 71, 20, 1, 1, 67, 21, 58, 38, 69, 24, 39, 67, 74, 20, 1, 68, 37, 65, 38, 20, 75, 68, 26, 1, 66, 33, 71, 25, 6, 72, 32, 66, 45, 4, 70, 30, 72, 37, 62, 68, 27, 67, 29, 73, 35, 4, 75, 22, 24, 72, 60, 42, 70, 36, 36, 57, 74, 36, 44, 69, 28, 73, 34, 24, 74, 55, 45, 70, 39, 70, 33, 34, 64, 51, 66, 39, 6, 66, 17, 4, 70, 29, 11, 65, 31, 68, 38, 32, 73, 74, 33, 17, 65, 18, 67, 37, 28, 14, 74, 30, 74, 27, 67, 20, 14, 74, 26, 74, 35, 24, 70, 35, 72, 14, 18, 74, 33, 70, 37, 70, 31, 12, 74, 11, 19, 72, 15, 63, 70, 33, 73, 17, 13, 67, 22, 4, 57, 33, 19, 69, 25, 72, 15, 74, 67, 11, 46, 31, 66, 67, 29, 71, 6, 24, 62, 30, 26, 60, 74, 17, 1, 64, 22, 9, 57, 34, 68, 24, 43, 60, 29, 21, 66, 67, 18, 61, 32, 42, 67, 22, 68, 23, 68, 24, 43, 49, 71, 38, 54, 62, 20, 18, 68, 23, 58, 33, 74, 18, 73, 12, 72, 28, 46, 72, 22, 6, 57, 32, 54, 25, 48, 42, 3, 74, 70, 14, 11, 45, 51, 68, 22, 60, 31, 62, 22, 9, 67, 30, 7, 28, 62, 74, 17, 69, 12, 19, 64, 25, 61, 14, 11, 70, 32, 1, 65, 24, 43, 70, 24, 74, 9, 64, 24, 29, 70, 15, 14, 66, 17, 32, 60, 35, 72, 12, 58, 60, 35, 19, 69, 69, 19, 70, 16, 19, 70, 25, 18, 75, 55, 31, 2, 70, 14, 8, 64, 24, 27, 74, 67, 15, 61, 14, 74, 70, 74, 62, 32, 27, 66, 61, 26, 71, 12, 28, 50, 50, 70, 65, 25, 64, 23, 68, 24, 45, 44, 73, 36, 44, 24, 56, 73, 13, 67, 73, 74, 23, 71, 16, 61, 71, 14, 13, 59, 32, 54, 25, 36, 55, 72, 25, 62, 23, 5, 31, 66, 30, 72, 18, 19, 59, 35, 42, 23, 55, 73, 45, 69, 29, 68, 13, 46, 42, 72, 18, 71, 55, 40, 30, 62, 2, 74, 17, 69, 12, 19, 63, 20, 49, 38, 62, 17, 16, 61, 74, 23, 49, 46, 72, 14, 61, 31, 62, 22, 9, 50, 42, 68, 17, 33, 68, 23, 53, 35, 74, 16, 61, 32, 42, 12, 72, 14, 68, 18, 68, 11, 13, 38, 67, 47, 43, 70, 7, 16, 73, 7, 70, 69, 30, 52, 36, 70, 12, 27, 70, 34, 72, 10, 7, 57, 24, 73, 26, 58, 28, 69, 22, 36, 49, 68, 38, 68, 7, 71, 16, 69, 17, 69, 12, 19, 71, 24, 11, 71, 45, 42, 72, 19, 2, 68, 32, 71, 21, 73, 16, 69, 16, 61, 68, 33, 16, 75, 71, 17, 71, 9, 13, 73, 8, 23, 71, 26, 70, 16, 74, 11, 61, 22, 42, 44, 73, 69, 33, 20, 64, 74, 21, 69, 21, 69, 19, 56, 70, 23, 1, 28, 62, 67, 11, 13, 71, 5, 68, 65, 55, 70, 8, 73, 68, 47, 68, 30, 36, 62, 65, 20, 49, 38, 56, 28, 11, 40, 49, 74, 15, 51, 69, 34, 27, 63, 28, 69, 24, 66, 27, 60, 32, 72, 74, 16, 10, 55, 39, 66, 18, 74, 19, 61, 32, 42, 40, 54, 71, 24, 43, 70, 27, 69, 30, 56, 37, 74, 12, 64, 70, 27, 25, 65, 69, 20, 33, 71, 23, 1, 71, 22, 1, 68, 16, 72, 17, 69, 12, 19, 74, 21, 34, 46, 71, 14, 45, 49, 69, 21, 25, 70, 23, 41, 46, 55, 37, 71, 19, 66, 33, 74, 18, 61, 20, 33, 69, 25, 48, 37, 56, 25, 23, 68, 18, 65, 30, 71, 6, 5, 31, 52, 39, 30, 57, 73, 25, 64, 32, 45, 71, 25, 73, 22, 74, 26, 60, 35, 74, 34, 60, 29, 58, 66, 27, 71, 13, 60, 32, 42, 73, 22, 63, 30, 40, 49, 54, 74, 20, 1, 66, 35, 60, 34, 43, 52, 71, 27, 50, 46, 71, 27, 1, 18, 65, 37, 60, 54, 42, 66, 34, 1, 72, 32, 52, 45, 37, 59, 73, 61, 32, 74, 24, 44, 48, 73, 29, 37, 58, 73, 33, 67, 31, 74, 7, 12, 54, 30, 31, 55, 66, 47, 35, 73, 20, 7, 72, 27, 67, 23, 13, 71, 28, 73, 11, 15, 73, 40, 34, 67, 36, 70, 30, 68, 33, 1, 73, 26, 69, 36, 6, 72, 29, 72, 32, 1, 72, 20, 69, 44, 21, 73, 9, 49, 47, 45, 50, 20, 68, 11, 17, 71, 18, 1, 70, 35, 73, 29, 60, 68, 35, 71, 34, 43, 53, 70, 39, 28, 69, 51, 45, 54, 41, 29, 72, 22, 73, 13, 20, 70, 32, 51, 42, 72, 34, 43, 55, 41, 53, 70, 38, 70, 29, 53, 71, 29, 69, 31, 74, 25, 2, 49, 54, 61, 52, 70, 60, 27, 10, 74, 18, 36, 59, 66, 32, 26, 69, 67, 33, 1, 73, 24, 51, 58, 74, 73, 30, 67, 36, 5, 73, 30, 52, 46, 69, 36, 60, 43, 72, 19, 1, 33, 70, 35, 1, 2]


