3.10 Repository exercises
Additional reading
https://nvie.com/posts/a-successful-git-branching-model/#incorporating-a-finished-feature-on-develop


=====


3.10.1 Branching	
REMOVE OLD git-2 references
THEN ADD git-3 references
THEN do the exercise

Create a new branch feature/create-awesome from main branch
In branch feature/create-awesome add a following line to file hello_world.py
print("Hello from feature")
Add and commit changes in feature/create-awesome
Push your changes in feature/create-awesome
Create a new branch release from feature/create-awesome branch
In branch release add the following line to file hello_world.py
print("Hello from release")
Add and commit changes in release
Push your changes in release



kaiqu@kai-aftershock MINGW64 ~
$ cd "Downloads/TUNI Git\tuni trg"

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg (release)
$ cd tuni-git-intermediate3

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ pwd
/c/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ ls
hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote set-url origin https://github.com/KaiquanMah/tuni-git-intermediate3.git

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git checkout main
error: Your local changes to the following files would be overwritten by checkout:
        hello_world.py
Please commit your changes or stash them before you switch branches.
Aborting

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote remove origin

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote -v

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git fetch --prune

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git fetch --all --prune

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -vv | grep ': gone]' | awk '{print $1}' | xargs git branch -d
fatal: branch name required

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote remove origin
error: No such remote: 'origin'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote -v

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git fetch --prune

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -vv | grep ': gone]' | awk '{print $1}' | xargs git branch -d
fatal: branch name required

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -vv | grep ': gone]' | awk '{print $1}' | xargs git branch -D
fatal: branch name required

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -a
  feature/create-awesome
  main
  master
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D main
Deleted branch main (was 5a65ea4).

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D master
Deleted branch master (was 6720ed4).

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D release
error: cannot delete branch 'release' used by worktree at 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D feature/create-awesome
Deleted branch feature/create-awesome (was 768ad5a).

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D release
error: cannot delete branch 'release' used by worktree at 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git worktree remove 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3'
fatal: 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3' is a main working tree

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git worktree remove -f 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3'
fatal: 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3' is a main working tree

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote add origin https://github.com/KaiquanMah/tuni-git-intermediate3

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git init
Reinitialized existing Git repository in C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3/.git/

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -D release
error: cannot delete branch 'release' used by worktree at 'C:/Users/kaiqu/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote -v
origin  https://github.com/KaiquanMah/tuni-git-intermediate3 (fetch)
origin  https://github.com/KaiquanMah/tuni-git-intermediate3 (push)

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git checkout release
M       hello_world.py
Already on 'release'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch -m main

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git branch
* main

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git push -u origin main
Enumerating objects: 16, done.
Counting objects: 100% (16/16), done.
Delta compression using up to 8 threads
Compressing objects: 100% (8/8), done.
Writing objects: 100% (16/16), 2.12 KiB | 361.00 KiB/s, done.
Total 16 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
To https://github.com/KaiquanMah/tuni-git-intermediate3
 * [new branch]      main -> main
branch 'main' set up to track 'origin/main'.

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git pull origin main
remote: Enumerating objects: 5, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (1/1), done.
remote: Total 3 (delta 0), reused 2 (delta 0), pack-reused 0 (from 0)
Unpacking objects: 100% (3/3), 922 bytes | 307.00 KiB/s, done.
From https://github.com/KaiquanMah/tuni-git-intermediate3
 * branch            main       -> FETCH_HEAD
   1b028f4..7467db6  main       -> origin/main
Updating 1b028f4..7467db6
error: Your local changes to the following files would be overwritten by merge:
        hello_world.py
Please commit your changes or stash them before you merge.
Aborting

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git fetch origin

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git reset --hard origin/main
HEAD is now at 7467db6 Update hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ cat hello_world.py
print("Hello world!")

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git checkout -b feature/create-awesome main
Switched to a new branch 'feature/create-awesome'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (feature/create-awesome)
$ echo 'print("Hello from feature")' >> hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (feature/create-awesome)
$ cat hello_world.py
print("Hello world!")
print("Hello from feature")

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (feature/create-awesome)
$ git add hello_world.py
git commit -m "Add feature message to hello_world.py"
warning: in the working copy of 'hello_world.py', LF will be replaced by CRLF the next time Git touches it
[feature/create-awesome 3215e2f] Add feature message to hello_world.py
 1 file changed, 1 insertion(+)

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (feature/create-awesome)
$ git push -u origin feature/create-awesome
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 301 bytes | 301.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
remote:
remote: Create a pull request for 'feature/create-awesome' on GitHub by visiting:
remote:      https://github.com/KaiquanMah/tuni-git-intermediate3/pull/new/feature/create-awesome
remote:
To https://github.com/KaiquanMah/tuni-git-intermediate3
 * [new branch]      feature/create-awesome -> feature/create-awesome
branch 'feature/create-awesome' set up to track 'origin/feature/create-awesome'.

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (feature/create-awesome)
$ git checkout -b release feature/create-awesome
Switched to a new branch 'release'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ echo 'print("Hello from release")' >> hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ cat hello_world.py
print("Hello world!")
print("Hello from feature")
print("Hello from release")

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git add hello_world.py
git commit -m "Add release message to hello_world.py"
warning: in the working copy of 'hello_world.py', LF will be replaced by CRLF the next time Git touches it
[release f676cab] Add release message to hello_world.py
 1 file changed, 1 insertion(+)

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git push -u origin release
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 312 bytes | 312.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
remote:
remote: Create a pull request for 'release' on GitHub by visiting:
remote:      https://github.com/KaiquanMah/tuni-git-intermediate3/pull/new/release
remote:
To https://github.com/KaiquanMah/tuni-git-intermediate3
 * [new branch]      release -> release
branch 'release' set up to track 'origin/release'.


=============

3.10.2 Normal merge	intermediate

Normal merge
Initializing a repository
Add a new remote repository for your repository https://course-gitlab.tuni.fi/git-course/intermediate-normal-merge.git
Fetch the history from the remote repository and merge it to yours. You might have to use --allow-unrelated-histories flag
Exercise
Merge branch feature/add-logging to main. Merge message should be:

Merge branch 'feature/add-logging'
Push your updated main






kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote add origin https://course-gitlab.tuni.fi/git-course/intermediate-normal-merge.git
error: remote origin already exists.

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git remote add upstream https://course-gitlab.tuni.fi/git-course/intermediate-normal-merge.git




kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch
  feature/create-awesome
  main
* release

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git branch main
fatal: a branch named 'main' already exists

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (release)
$ git checkout main
Switched to branch 'main'
Your branch is up to date with 'origin/main'.







kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git fetch upstream
remote: Enumerating objects: 12, done.
remote: Total 12 (delta 0), reused 0 (delta 0), pack-reused 12 (from 1)
Unpacking objects: 100% (12/12), 994 bytes | 36.00 KiB/s, done.
From https://course-gitlab.tuni.fi/git-course/intermediate-normal-merge
 * [new branch]      feature/add-logging    -> upstream/feature/add-logging
 * [new branch]      feature/create-awesome -> upstream/feature/create-awesome
 * [new branch]      master                 -> upstream/master

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git merge upstream/main --allow-unrelated-histories
merge: upstream/main - not something we can merge


kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git branch -r
  origin/feature/create-awesome
  origin/main
  origin/release
  upstream/feature/add-logging
  upstream/feature/create-awesome
  upstream/master

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git checkout main
Already on 'main'
Your branch is up to date with 'origin/main'.

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git merge upstream/feature/add-logging -m "Merge branch 'feature/add-logging'"
fatal: refusing to merge unrelated histories

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git merge upstream/feature/add-logging -m "Merge branch 'feature/add-logging'" --allow-unrelated-histories
Auto-merging hello_world.py
CONFLICT (add/add): Merge conflict in hello_world.py
Automatic merge failed; fix conflicts and then commit the result.

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main|MERGING)
$ cat hello_world.py
print("Hello world!")
<<<<<<< HEAD
=======
print("Hello once again")
>>>>>>> upstream/feature/add-logging

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main|MERGING)
$ nano hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main|MERGING)
$ git add hello_world.py

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main|MERGING)
$ git commit -m "Merge branch 'feature/add-logging'"
[main bc1b722] Merge branch 'feature/add-logging'

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)
$ git push origin main
Enumerating objects: 12, done.
Counting objects: 100% (12/12), done.
Delta compression using up to 8 threads
Compressing objects: 100% (7/7), done.
Writing objects: 100% (10/10), 1.03 KiB | 351.00 KiB/s, done.
Total 10 (delta 0), reused 0 (delta 0), pack-reused 0 (from 0)
To https://github.com/KaiquanMah/tuni-git-intermediate3
   7467db6..bc1b722  main -> main

kaiqu@kai-aftershock MINGW64 ~/Downloads/TUNI Git/tuni trg/tuni-git-intermediate3 (main)





=============


3.10.3 Merge conflict




