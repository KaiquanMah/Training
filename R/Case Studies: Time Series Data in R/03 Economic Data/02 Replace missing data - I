As you discovered in the previous exercise, your quarterly GDP data appear to be missing several observations. In fact, your call to summary() in the previous exercise revealed 80 missing data points!

As you may recall from the first xts course, xts and zoo provide a variety of functions to handle missing data.

The simplest technique is the na.locf() command, which carries forward the last observation before the missing data (hence, "last observation carried forward", or locf). This approach is often the most appropriate way to handle missingness, especially when you have reasons to be conservative about growth in your data.
https://www.rdocumentation.org/packages/imputeTS/versions/1.7/topics/na.locf
A similar approach works in the opposite direction by taking the first observation after the missing value and carrying it backward ("next observation carried backward", or nocb). This technique can also be done using the na.locf() command by setting the fromLast argument to TRUE.

Which method is best depends on the type of data you are working with and your preconceived notions about how the data changes over time.



Use na.locf() to fill the missing values in gdp_xts based on the last observation carried forward. Save this new xts object as gdp_locf.
Use another call to na.locf() to fill missing values in gdp_xts based on the next observation carried backward. To do so, set the fromLast argument to TRUE. Save this new xts object as gdp_nocb.
Plot each of these objects using plot.xts(). Include the pre-written par() command to display both plots together.
Query each object (gdp_locf and gdp_nocb) for GDP in 1993.

# Fill NAs in gdp_xts with the last observation carried forward
gdp_locf <- na.locf(gdp_xts)


# Fill NAs in gdp_xts with the next observation carried backward 
gdp_nocb <- na.locf(gdp_xts, fromLast = TRUE)


# Produce a plot for each of your new xts objects
par(mfrow = c(2,1))
plot.xts(gdp_locf, major.format = "%Y")
plot.xts(gdp_nocb, major.format = "%Y")
data:image/png;base64,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
# https://stackoverflow.com/questions/34319504/r-how-can-i-change-date-format-when-i-plot-an-xts-zoo-object


# Query for GDP in 1993 in both gdp_locf and gdp_nocb
gdp_locf["1993"]
          [,1]
1993 Q1 5890.8
1993 Q2 5890.8
1993 Q3 5890.8
1993 Q4 5890.8
gdp_nocb["1993"]
          [,1]
1993 Q1 7545.3
1993 Q2 7545.3
1993 Q3 7545.3
1993 Q4 7545.3



You've filled in the missing values in your GDP data. As you can see, the locf and nocb techniques sometimes produce drastically different values, especially when you have long spells of missing data. In the next exercise, you'll practice a third technique for handling missingness: linear interpolation.


