Interpolation: Inbetween Times
In this exercise, you will build a linear model by fitting monthly time-series data for the Dow Jones Industrial Average (DJIA) and then use that model to make predictions for daily data (in effect, an interpolation). Then you will compare that daily prediction to the real daily DJIA data.

A few notes on the data. "OHLC" stands for "Open-High-Low-Close", which is usually daily data, for example the opening and closing prices, and the highest and lowest prices, for a stock in a given day. "DayCount" is an integer number of days from start of the data collection.

In [1]: df_monthly
Out[1]: 
                    Open          High           Low         Close  \
Date                                                                 
2013-01-01  13104.299805  13969.990234  13104.299805  13860.580078   
2013-02-01  13860.580078  14149.150391  13784.009766  14054.490234   
2013-03-01  14054.490234  14585.099609  13937.599609  14578.540039   
2013-04-01  14578.540039  14887.509766  14434.429688  14839.799805   
2013-05-01  14839.799805  15542.400391  14687.049805  15115.570313   
2013-06-01  15123.549805  15340.089844  14551.269531  14909.599609   
2013-07-01  14911.599609  15634.320313  14858.929688  15499.540039   
2013-08-01  15503.849609  15658.429688  14760.410156  14810.309570   
2013-09-01  14801.549805  15709.580078  14777.480469  15129.669922   
2013-10-01  15132.490234  15721.000000  14719.429688  15545.750000   
2013-11-01  15558.009766  16174.509766  15522.179688  16086.410156   
2013-12-01  16087.120117  16588.250000  15703.790039  16576.660156   
2014-01-01  16572.169922  16573.070313  15617.549805  15698.849609   
2014-02-01  15697.690430  16398.949219  15340.690430  16321.709961   
2014-03-01  16321.709961  16505.699219  16046.990234  16457.660156   
2014-04-01  16458.050781  16631.630859  16015.320313  16580.839844   
2014-05-01  16580.259766  16735.509766  16341.299805  16717.169922   
2014-06-01  16716.849609  16978.019531  16673.650391  16826.599609   
2014-07-01  16828.529297  17151.560547  16563.300781  16563.300781   
2014-08-01  16561.699219  17153.800781  16333.780273  17098.449219   
2014-09-01  17097.419922  17350.640625  16934.429688  17042.900391   
2014-10-01  17040.460938  17395.539063  15855.120117  17390.519531   
2014-11-01  17390.900391  17894.830078  17278.359375  17828.240234   
2014-12-01  17827.269531  18103.449219  17067.589844  17823.070313   

               Adj Close      Volume       Jday  DayCount  
Date                                                       
2013-01-01  13860.580078  2786680000  2456293.5    1827.0  
2013-02-01  14054.490234  2487580000  2456324.5    1858.0  
2013-03-01  14578.540039  2546320000  2456352.5    1886.0  
2013-04-01  14839.799805  2920230000  2456383.5    1917.0  
2013-05-01  15115.570313  2771510000  2456413.5    1947.0  
2013-06-01  14909.599609  2929040000  2456444.5    1978.0  
2013-07-01  15499.540039  2623130000  2456474.5    2008.0  
2013-08-01  14810.309570  2327660000  2456505.5    2039.0  
2013-09-01  15129.669922  2371540000  2456536.5    2070.0  
2013-10-01  15545.750000  2206620000  2456566.5    2100.0  
2013-11-01  16086.410156  1820260000  2456597.5    2131.0  
2013-12-01  16576.660156  2057160000  2456627.5    2161.0  
2014-01-01  15698.849609  2177040000  2456658.5    2192.0  
2014-02-01  16321.709961  2067820000  2456689.5    2223.0  
2014-03-01  16457.660156  2095940000  2456717.5    2251.0  
2014-04-01  16580.839844  1986960000  2456748.5    2282.0  
2014-05-01  16717.169922  1643160000  2456778.5    2312.0  
2014-06-01  16826.599609  1755480000  2456809.5    2343.0  
2014-07-01  16563.300781  1690880000  2456839.5    2373.0  
2014-08-01  17098.449219  1482600000  2456870.5    2404.0  
2014-09-01  17042.900391  1870550000  2456901.5    2435.0  
2014-10-01  17390.519531  2903240000  2456931.5    2465.0  
2014-11-01  17828.240234  1516490000  2456962.5    2496.0  
2014-12-01  17823.070313  2216900000  2456992.5    2526.0








In [2]: df_daily
Out[2]: 
                    Open          High           Low         Close  \
Date                                                                 
2013-01-02  13104.299805  13412.709961  13104.299805  13412.549805   
2013-01-03  13413.009766  13430.599609  13358.299805  13391.360352   
2013-01-04  13391.049805  13447.110352  13376.230469  13435.209961   
2013-01-07  13436.129883  13436.129883  13343.320313  13384.290039   
2013-01-08  13377.419922  13377.419922  13293.129883  13328.849609   
2013-01-09  13329.919922  13416.549805  13329.080078  13390.509766   
2013-01-10  13391.820313  13478.200195  13382.290039  13471.219727   
2013-01-11  13471.450195  13496.679688  13439.969727  13488.429688   
2013-01-14  13488.429688  13520.179688  13459.839844  13507.320313   
2013-01-15  13507.320313  13546.370117  13445.799805  13534.889648   
2013-01-16  13534.889648  13534.889648  13468.959961  13511.230469   
2013-01-17  13511.230469  13633.889648  13510.240234  13596.019531   
2013-01-18  13596.019531  13649.929688  13571.860352  13649.700195   
2013-01-22  13649.700195  13712.209961  13622.959961  13712.209961   
2013-01-23  13712.209961  13794.290039  13710.129883  13779.330078   
2013-01-24  13779.330078  13879.660156  13779.330078  13825.330078   
2013-01-25  13825.330078  13895.980469  13825.330078  13895.980469   
2013-01-28  13895.980469  13915.719727  13862.570313  13881.929688   
2013-01-29  13881.929688  13969.990234  13880.009766  13954.419922   
2013-01-30  13954.419922  13966.129883  13896.950195  13910.419922   
2013-01-31  13910.419922  13941.059570  13860.580078  13860.580078   
2013-02-01  13860.580078  14019.780273  13860.580078  14009.790039   
2013-02-04  14009.790039  14009.790039  13866.830078  13880.080078   
2013-02-05  13880.080078  14013.599609  13880.080078  13979.299805   
2013-02-06  13979.299805  13991.610352  13913.179688  13986.519531   
2013-02-07  13986.519531  13988.059570  13852.200195  13944.049805   
2013-02-08  13944.049805  14022.620117  13944.049805  13992.969727   
2013-02-11  13992.969727  13992.969727  13940.410156  13971.240234   
2013-02-12  13971.240234  14038.969727  13968.940430  14018.700195   
2013-02-13  14018.700195  14029.349609  13945.780273  13982.910156   
...                  ...           ...           ...           ...   
2014-11-18  17643.089844  17735.710938  17642.029297  17687.820313   
2014-11-19  17685.509766  17712.259766  17624.500000  17685.730469   
2014-11-20  17677.320313  17720.439453  17603.890625  17719.000000   
2014-11-21  17721.019531  17894.830078  17721.019531  17810.060547   
2014-11-24  17812.630859  17855.269531  17793.189453  17817.900391   
2014-11-25  17819.050781  17854.730469  17790.890625  17814.939453   
2014-11-26  17812.250000  17833.759766  17791.160156  17827.750000   
2014-11-28  17830.550781  17893.419922  17807.779297  17828.240234   
2014-12-01  17827.269531  17827.269531  17726.550781  17776.800781   
2014-12-02  17778.849609  17897.050781  17778.849609  17879.550781   
2014-12-03  17880.900391  17924.150391  17855.589844  17912.619141   
2014-12-04  17910.019531  17937.960938  17814.810547  17900.099609   
2014-12-05  17903.050781  17991.189453  17903.050781  17958.789063   
2014-12-08  17954.939453  17960.560547  17804.279297  17852.480469   
2014-12-09  17847.369141  17847.369141  17629.570313  17801.199219   
2014-12-10  17797.990234  17797.990234  17508.099609  17533.150391   
2014-12-11  17534.300781  17758.509766  17534.300781  17596.339844   
2014-12-12  17590.050781  17590.050781  17280.830078  17280.830078   
2014-12-15  17285.740234  17403.539063  17115.279297  17180.839844   
2014-12-16  17173.070313  17427.439453  17067.589844  17068.869141   
2014-12-17  17069.160156  17389.300781  17069.160156  17356.869141   
2014-12-18  17367.849609  17778.400391  17367.849609  17778.150391   
2014-12-19  17778.019531  17874.029297  17746.550781  17804.800781   
2014-12-22  17812.250000  17962.779297  17812.250000  17959.439453   
2014-12-23  17971.509766  18069.220703  17970.160156  18024.169922   
2014-12-24  18035.730469  18086.240234  18027.779297  18030.210938   
2014-12-26  18038.300781  18103.449219  18038.300781  18053.710938   
2014-12-29  18046.580078  18073.039063  18021.570313  18038.230469   
2014-12-30  18035.019531  18035.019531  17959.699219  17983.070313   
2014-12-31  17987.660156  18043.220703  17820.880859  17823.070313   

               Adj Close     Volume       Jday  DayCount  
Date                                                      
2013-01-02  13412.549805  161430000  2456294.5    1827.0  
2013-01-03  13391.360352  129630000  2456295.5    1828.0  
2013-01-04  13435.209961  107590000  2456296.5    1829.0  
2013-01-07  13384.290039  113120000  2456299.5    1832.0  
2013-01-08  13328.849609  129570000  2456300.5    1833.0  
2013-01-09  13390.509766  123070000  2456301.5    1834.0  
2013-01-10  13471.219727  133520000  2456302.5    1835.0  
2013-01-11  13488.429688  119200000  2456303.5    1836.0  
2013-01-14  13507.320313  118460000  2456306.5    1839.0  
2013-01-15  13534.889648  102280000  2456307.5    1840.0  
2013-01-16  13511.230469  118540000  2456308.5    1841.0  
2013-01-17  13596.019531  183900000  2456309.5    1842.0  
2013-01-18  13649.700195  260900000  2456310.5    1843.0  
2013-01-22  13712.209961  144300000  2456314.5    1847.0  
2013-01-23  13779.330078  104490000  2456315.5    1848.0  
2013-01-24  13825.330078  124780000  2456316.5    1849.0  
2013-01-25  13895.980469  130300000  2456317.5    1850.0  
2013-01-28  13881.929688  113570000  2456320.5    1853.0  
2013-01-29  13954.419922  108230000  2456321.5    1854.0  
2013-01-30  13910.419922  117200000  2456322.5    1855.0  
2013-01-31  13860.580078  142600000  2456323.5    1856.0  
2013-02-01  14009.790039  128420000  2456324.5    1857.0  
2013-02-04  13880.080078  130420000  2456327.5    1860.0  
2013-02-05  13979.299805  134390000  2456328.5    1861.0  
2013-02-06  13986.519531  127560000  2456329.5    1862.0  
2013-02-07  13944.049805  118530000  2456330.5    1863.0  
2013-02-08  13992.969727   99860000  2456331.5    1864.0  
2013-02-11  13971.240234   75090000  2456334.5    1867.0  
2013-02-12  14018.700195  117180000  2456335.5    1868.0  
2013-02-13  13982.910156  130520000  2456336.5    1869.0  
...                  ...        ...        ...       ...  
2014-11-18  17687.820313   87420000  2456979.5    2512.0  
2014-11-19  17685.730469   73780000  2456980.5    2513.0  
2014-11-20  17719.000000   77740000  2456981.5    2514.0  
2014-11-21  17810.060547  140940000  2456982.5    2515.0  
2014-11-24  17817.900391   85510000  2456985.5    2518.0  
2014-11-25  17814.939453   88190000  2456986.5    2519.0  
2014-11-26  17827.750000   67450000  2456987.5    2520.0  
2014-11-28  17828.240234   80470000  2456989.5    2522.0  
2014-12-01  17776.800781   86390000  2456992.5    2525.0  
2014-12-02  17879.550781   81970000  2456993.5    2526.0  
2014-12-03  17912.619141   99400000  2456994.5    2527.0  
2014-12-04  17900.099609   76270000  2456995.5    2528.0  
2014-12-05  17958.789063   79110000  2456996.5    2529.0  
2014-12-08  17852.480469   88680000  2456999.5    2532.0  
2014-12-09  17801.199219  100400000  2457000.5    2533.0  
2014-12-10  17533.150391  115100000  2457001.5    2534.0  
2014-12-11  17596.339844   90100000  2457002.5    2535.0  
2014-12-12  17280.830078  121950000  2457003.5    2536.0  
2014-12-15  17180.839844  114050000  2457006.5    2539.0  
2014-12-16  17068.869141  116640000  2457007.5    2540.0  
2014-12-17  17356.869141  118220000  2457008.5    2541.0  
2014-12-18  17778.150391  123940000  2457009.5    2542.0  
2014-12-19  17804.800781  343690000  2457010.5    2543.0  
2014-12-22  17959.439453   98460000  2457013.5    2546.0  
2014-12-23  18024.169922   82890000  2457014.5    2547.0  
2014-12-24  18030.210938   42870000  2457015.5    2548.0  
2014-12-26  18053.710938   52570000  2457017.5    2550.0  
2014-12-29  18038.230469   53870000  2457020.5    2553.0  
2014-12-30  17983.070313   47490000  2457021.5    2554.0  
2014-12-31  17823.070313   82840000  2457022.5    2555.0  

[504 rows x 8 columns]


In [3]: help(plot_model_with_data)
Help on function plot_model_with_data in module __main__:

plot_model_with_data(df, data_label='Data')










# build and fit a model to the df_monthly data
model_fit = ols('Close ~ DayCount', data=df_monthly).fit()

# Use the model FIT to the MONTHLY data to make a predictions for both monthly and daily data
df_monthly['Model'] = model_fit.predict(df_monthly.DayCount)
df_daily['Model'] = model_fit.predict(df_daily.DayCount)

# Plot the monthly and daily data and model, compare the RSS values seen on the figures
fig_monthly = plot_model_with_data(df_monthly,data_label='Model')
fig_daily = plot_model_with_data(df_daily,data_label='Model')



Notice the monthly data looked linear, but the daily data clearly has additional, nonlinear trends. Under-sampled data often misses real-world features in the data on smaller time or spatial scales. Using the model from the under-sampled data to make interpolations to the daily data can result is large residuals. Notice that the RSS value for the daily plot is more than 30 times worse than the monthly plot

